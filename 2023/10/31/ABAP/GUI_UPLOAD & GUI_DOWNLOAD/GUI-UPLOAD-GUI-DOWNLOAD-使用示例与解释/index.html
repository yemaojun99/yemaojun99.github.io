<!DOCTYPE html>
<html lang="zh-CN">
    <head hexo-theme='https://github.com/volantis-x/hexo-theme-volantis/#*'>
  <meta name="generator" content="Hexo 6.3.0">
  <!-- Google HTML Meta 标记 -->
  <meta name="google-site-verification" content="hExu0niGBmXoQ6XeIuHzDpFILst9P4qB4hSyGJSuRTk" />
  <!-- 百度 HTML Meta 标记 -->
  <meta name="baidu-site-verification" content="codeva-EIVOCVwCQO" />
  <!-- 必应 HTML Meta 标记 -->
  <meta name="msvalidate.01" content="2584C77E13560595FFEDE3C6C68FC4CC" />

  <meta name="Volantis" content="*">
  <meta charset="utf-8">
  <!-- SEO相关 -->
  
  <link rel="canonical" href="https://www.yemaojun.top/2023/10/31/abap/gui_upload & gui_download/gui-upload-gui-download-使用示例与解释/"/>
  <!-- 渲染优化 -->
    <meta http-equiv='x-dns-prefetch-control' content='on' />
      <link rel='dns-prefetch' href='https://unpkg.com'>
      <link rel="preconnect" href="https://unpkg.com" crossorigin>
  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Content-Security-Policy" content=" default-src 'self' https:; block-all-mixed-content; base-uri 'self' https:; form-action 'self' https:; worker-src 'self' https:; connect-src 'self' https: *; img-src 'self' data: https: *; media-src 'self' https: *; font-src 'self' data: https: *; frame-src 'self' https: *; manifest-src 'self' https: *; child-src https:; script-src 'self' https: 'unsafe-inline' *; style-src 'self' https: 'unsafe-inline' *; ">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
  <meta content="black-translucent" name="apple-mobile-web-app-status-bar-style">
  <meta content="telephone=no" name="format-detection">
  <!-- import head_begin begin -->
  <!-- import head_begin end -->
  <!-- Custom Files headBegin begin-->
  

<!-- 测试使用 -->
<script>
  console.log('Test') // 不推荐
</script>
  <!-- Custom Files headBegin end-->
  <!-- front-matter head_begin begin -->
  <!-- front-matter head_begin end -->
    <link rel="shortcut icon" type='image/x-icon' href="/imag/%E5%A4%B4%E5%83%8F.jpg">
  <link rel="preload" href="/css/style.css" as="style">
  <link rel="preload" href="https://unpkg.com/volantis-static@0.0.1654736714924/media/fonts/VarelaRound/VarelaRound-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
<link rel="preload" href="https://unpkg.com/volantis-static@0.0.1654736714924/media/fonts/UbuntuMono/UbuntuMono-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">

  <!-- feed -->
  <!-- 页面元数据 -->
  <title>GUI_UPLOAD & GUI_DOWNLOAD 使用示例与解释 - 夜猫君</title>
  <meta name="keywords" content="ABAP,null">
  <meta desc name="description" content="这两天需要开发一个通过接口传输文件的需求。其中需要将文件转换为二进制流的形式传输文件，将上传和接收到的文件转换位二进制流文件就是通过Function GUI_UPLOAD和Function GUI_DOWNLOAD来实现的，但是文件中的字符有中文，英文或其他特殊字符等情况存在，贸然使用上面的Function会出现... - 夜猫君 - 夜猫君">
  
<meta property="og:type" content="article">
<meta property="og:title" content="GUI_UPLOAD &amp; GUI_DOWNLOAD 使用示例与解释">
<meta property="og:url" content="https://www.yemaojun.top/2023/10/31/ABAP/GUI_UPLOAD%20&%20GUI_DOWNLOAD/GUI-UPLOAD-GUI-DOWNLOAD-%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B%E4%B8%8E%E8%A7%A3%E9%87%8A/index.html">
<meta property="og:site_name" content="夜猫君">
<meta property="og:description" content="这两天需要开发一个通过接口传输文件的需求。其中需要将文件转换为二进制流的形式传输文件，将上传和接收到的文件转换位二进制流文件就是通过Function GUI_UPLOAD和Function GUI_DOWNLOAD来实现的，但是文件中的字符有中文，英文或其他特殊字符等情况存在，贸然使用上面的Function会出现乱码等问题。所以本片笔记会针对上面的问题进行解释并提出解决方案。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/blog/favicon/android-chrome-192x192.png">
<meta property="article:published_time" content="2023-10-31T03:31:45.000Z">
<meta property="article:modified_time" content="2024-02-27T07:06:08.843Z">
<meta property="article:author" content="夜猫君">
<meta property="article:tag" content="ABAP">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/blog/favicon/android-chrome-192x192.png">
  <style>
    /* 首屏样式 */
    #safearea {
  display: none;
}
:root {
  --color-site-body: #f4f4f4;
  --color-site-bg: #f4f4f4;
  --color-site-inner: #fff;
  --color-site-footer: #666;
  --color-card: #fff;
  --color-text: #444;
  --color-block: #f6f6f6;
  --color-inlinecode: #c74f00;
  --color-codeblock: #fff7ea;
  --color-h1: #3a3a3a;
  --color-h2: #3a3a3a;
  --color-h3: #333;
  --color-h4: #444;
  --color-h5: #555;
  --color-h6: #666;
  --color-p: #444;
  --color-list: #666;
  --color-list-hl: #30ad91;
  --color-meta: #888;
  --color-read-bkg: #e0d8c8;
  --color-read-post: #f8f1e2;
  --color-copyright-bkg: #f5f5f5;
}
* {
  box-sizing: border-box;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  outline: none;
  margin: 0;
  padding: 0;
}
*::-webkit-scrollbar {
  height: 4px;
  width: 4px;
}
*::-webkit-scrollbar-track-piece {
  background: transparent;
}
*::-webkit-scrollbar-thumb {
  background: #3dd9b6;
  cursor: pointer;
  border-radius: 2px;
  -webkit-border-radius: 2px;
}
*::-webkit-scrollbar-thumb:hover {
  background: #ff5722;
}
html {
  color: var(--color-text);
  width: 100%;
  height: 100%;
  font-family: UbuntuMono, "Varela Round", "PingFang SC", "Microsoft YaHei", Helvetica, Arial, Menlo, Monaco, monospace, sans-serif;
  font-size: 16px;
}
html >::-webkit-scrollbar {
  height: 4px;
  width: 4px;
}
html >::-webkit-scrollbar-track-piece {
  background: transparent;
}
html >::-webkit-scrollbar-thumb {
  background: #54b5a0 linear-gradient(45deg, rgba(255,255,255,0.4) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.4) 50%, rgba(255,255,255,0.4) 75%, transparent 75%, transparent);
  cursor: pointer;
  border-radius: 2px;
  -webkit-border-radius: 2px;
}
html >::-webkit-scrollbar-thumb:hover {
  background: #54b5a0 linear-gradient(45deg, rgba(255,255,255,0.4) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.4) 50%, rgba(255,255,255,0.4) 75%, transparent 75%, transparent);
}
body {
  background-color: var(--color-site-body);
  text-rendering: optimizelegibility;
  -webkit-tap-highlight-color: rgba(0,0,0,0);
  line-height: 1.6;
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
}
body.modal-active {
  overflow: hidden;
}
@media screen and (max-width: 680px) {
  body.modal-active {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }
}
a {
  color: #2092ec;
  cursor: pointer;
  text-decoration: none;
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
}
a:hover {
  color: #ff5722;
}
a:active,
a:hover {
  outline: 0;
}
ul,
ol {
  padding-left: 0;
}
ul li,
ol li {
  list-style: none;
}
header {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: block;
}
img {
  border: 0;
  background: none;
  max-width: 100%;
}
svg:not(:root) {
  overflow: hidden;
}
hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  -webkit-box-sizing: content-box;
  -moz-box-sizing: content-box;
  height: 0;
  border: 0;
  border-radius: 1px;
  -webkit-border-radius: 1px;
  border-bottom: 1px solid rgba(68,68,68,0.1);
}
button,
input {
  color: inherit;
  font: inherit;
  margin: 0;
}
button {
  overflow: visible;
  text-transform: none;
  -webkit-appearance: button;
  cursor: pointer;
}
@supports (backdrop-filter: blur(20px)) {
  .blur {
    background: rgba(255,255,255,0.9) !important;
    backdrop-filter: saturate(200%) blur(20px);
  }
}
@supports (backdrop-filter: blur(20px)) {
  .blur#comments {
    backdrop-filter: unset;
  }
}
#layoutHelper-comments {
  margin-bottom: 100px;
}
.shadow {
  box-shadow: 0 1px 2px 0px rgba(0,0,0,0.1);
  -webkit-box-shadow: 0 1px 2px 0px rgba(0,0,0,0.1);
}
.shadow.floatable {
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
}
.shadow.floatable:hover {
  box-shadow: 0 2px 4px 0px rgba(0,0,0,0.1), 0 4px 8px 0px rgba(0,0,0,0.1), 0 8px 16px 0px rgba(0,0,0,0.1);
  -webkit-box-shadow: 0 2px 4px 0px rgba(0,0,0,0.1), 0 4px 8px 0px rgba(0,0,0,0.1), 0 8px 16px 0px rgba(0,0,0,0.1);
}
#l_cover {
  min-height: 64px;
}
.cover-wrapper {
  top: 0;
  left: 0;
  max-width: 100%;
  height: 100vh;
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: -ms-flexbox /* TWEENER - IE 10 */;
  display: -webkit-flex /* NEW - Chrome */;
  display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
  display: flex;
  flex-wrap: nowrap;
  -webkit-flex-wrap: nowrap;
  -khtml-flex-wrap: nowrap;
  -moz-flex-wrap: nowrap;
  -o-flex-wrap: nowrap;
  -ms-flex-wrap: nowrap;
  -webkit-box-direction: normal;
  -moz-box-direction: normal;
  -webkit-box-orient: vertical;
  -moz-box-orient: vertical;
  -webkit-flex-direction: column;
  -ms-flex-direction: column;
  flex-direction: column;
  align-items: center;
  align-self: center;
  align-content: center;
  color: var(--color-site-inner);
  padding: 0 16px;
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  position: relative;
  overflow: hidden;
  margin-bottom: -100px;
}
.cover-wrapper .cover-body {
  z-index: 1;
  position: relative;
  width: 100%;
  height: 100%;
}
.cover-wrapper#full {
  height: calc(100vh + 100px);
  padding-bottom: 100px;
}
.cover-wrapper#half {
  max-height: 640px;
  min-height: 400px;
  height: calc(36vh - 64px + 200px);
}
.cover-wrapper #scroll-down {
  width: 100%;
  height: 64px;
  position: absolute;
  bottom: 100px;
  text-align: center;
  cursor: pointer;
}
.cover-wrapper #scroll-down .scroll-down-effects {
  color: #fff;
  font-size: 24px;
  line-height: 64px;
  position: absolute;
  width: 24px;
  left: calc(50% - 12px);
  text-shadow: 0 1px 2px rgba(0,0,0,0.1);
  animation: scroll-down-effect 1.5s infinite;
  -webkit-animation: scroll-down-effect 1.5s infinite;
  -khtml-animation: scroll-down-effect 1.5s infinite;
  -moz-animation: scroll-down-effect 1.5s infinite;
  -o-animation: scroll-down-effect 1.5s infinite;
  -ms-animation: scroll-down-effect 1.5s infinite;
}
@-moz-keyframes scroll-down-effect {
  0% {
    top: 0;
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
  50% {
    top: -16px;
    opacity: 0.4;
    -webkit-opacity: 0.4;
    -moz-opacity: 0.4;
  }
  100% {
    top: 0;
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
@-webkit-keyframes scroll-down-effect {
  0% {
    top: 0;
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
  50% {
    top: -16px;
    opacity: 0.4;
    -webkit-opacity: 0.4;
    -moz-opacity: 0.4;
  }
  100% {
    top: 0;
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
@-o-keyframes scroll-down-effect {
  0% {
    top: 0;
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
  50% {
    top: -16px;
    opacity: 0.4;
    -webkit-opacity: 0.4;
    -moz-opacity: 0.4;
  }
  100% {
    top: 0;
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
@keyframes scroll-down-effect {
  0% {
    top: 0;
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
  50% {
    top: -16px;
    opacity: 0.4;
    -webkit-opacity: 0.4;
    -moz-opacity: 0.4;
  }
  100% {
    top: 0;
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
.cover-wrapper .cover-body {
  margin-top: 64px;
  margin-bottom: 100px;
}
.cover-wrapper .cover-body,
.cover-wrapper .cover-body .top,
.cover-wrapper .cover-body .bottom {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: -ms-flexbox /* TWEENER - IE 10 */;
  display: -webkit-flex /* NEW - Chrome */;
  display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
  display: flex;
  -webkit-box-direction: normal;
  -moz-box-direction: normal;
  -webkit-box-orient: vertical;
  -moz-box-orient: vertical;
  -webkit-flex-direction: column;
  -ms-flex-direction: column;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  -webkit-justify-content: center;
  -khtml-justify-content: center;
  -moz-justify-content: center;
  -o-justify-content: center;
  -ms-justify-content: center;
  max-width: 100%;
}
.cover-wrapper .cover-body .bottom {
  margin-top: 32px;
}
.cover-wrapper .cover-body .title {
  font-family: "Varela Round", "PingFang SC", "Microsoft YaHei", Helvetica, Arial, Helvetica, monospace;
  font-size: 3.125rem;
  line-height: 1.2;
  text-shadow: 0 1px 2px rgba(0,0,0,0.1);
}
.cover-wrapper .cover-body .subtitle {
  font-size: 20px;
}
.cover-wrapper .cover-body .logo {
  max-height: 120px;
  max-width: calc(100% - 4 * 16px);
}
@media screen and (min-height: 1024px) {
  .cover-wrapper .cover-body .title {
    font-size: 3rem;
  }
  .cover-wrapper .cover-body .subtitle {
    font-size: 1.05rem;
  }
  .cover-wrapper .cover-body .logo {
    max-height: 150px;
  }
}
.cover-wrapper .cover-body .m_search {
  position: relative;
  max-width: calc(100% - 16px);
  width: 320px;
  vertical-align: middle;
}
.cover-wrapper .cover-body .m_search .form {
  position: relative;
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: block;
  width: 100%;
}
.cover-wrapper .cover-body .m_search .icon,
.cover-wrapper .cover-body .m_search .input {
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
}
.cover-wrapper .cover-body .m_search .icon {
  position: absolute;
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: block;
  line-height: 2.5rem;
  width: 32px;
  top: 0;
  left: 5px;
  color: rgba(68,68,68,0.75);
}
.cover-wrapper .cover-body .m_search .input {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: block;
  height: 2.5rem;
  width: 100%;
  box-shadow: none;
  -webkit-box-shadow: none;
  box-sizing: border-box;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  font-size: 0.875rem;
  -webkit-appearance: none;
  padding-left: 36px;
  border-radius: 1.4rem;
  -webkit-border-radius: 1.4rem;
  background: rgba(255,255,255,0.6);
  backdrop-filter: blur(10px);
  border: none;
  color: var(--color-text);
}
@media screen and (max-width: 500px) {
  .cover-wrapper .cover-body .m_search .input {
    padding-left: 36px;
  }
}
.cover-wrapper .cover-body .m_search .input:hover {
  background: rgba(255,255,255,0.8);
}
.cover-wrapper .cover-body .m_search .input:focus {
  background: #fff;
}
.cover-wrapper .list-h {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: -ms-flexbox /* TWEENER - IE 10 */;
  display: -webkit-flex /* NEW - Chrome */;
  display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
  display: flex;
  -webkit-box-direction: normal;
  -moz-box-direction: normal;
  -webkit-box-orient: horizontal;
  -moz-box-orient: horizontal;
  -webkit-flex-direction: row;
  -ms-flex-direction: row;
  flex-direction: row;
  flex-wrap: wrap;
  -webkit-flex-wrap: wrap;
  -khtml-flex-wrap: wrap;
  -moz-flex-wrap: wrap;
  -o-flex-wrap: wrap;
  -ms-flex-wrap: wrap;
  align-items: stretch;
  border-radius: 4px;
  -webkit-border-radius: 4px;
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}
.cover-wrapper .list-h a {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -webkit-flex: 1 0;
  -ms-flex: 1 0;
  flex: 1 0;
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: -ms-flexbox /* TWEENER - IE 10 */;
  display: -webkit-flex /* NEW - Chrome */;
  display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
  display: flex;
  font-weight: 600;
}
.cover-wrapper .list-h a img {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: block;
  border-radius: 2px;
  -webkit-border-radius: 2px;
  margin: 4px;
  min-width: 40px;
  max-width: 44px;
}
@media screen and (max-width: 768px) {
  .cover-wrapper .list-h a img {
    min-width: 36px;
    max-width: 40px;
  }
}
@media screen and (max-width: 500px) {
  .cover-wrapper .list-h a img {
    margin: 2px 4px;
    min-width: 32px;
    max-width: 36px;
  }
}
@media screen and (max-width: 375px) {
  .cover-wrapper .list-h a img {
    min-width: 28px;
    max-width: 32px;
  }
}
.cover-wrapper {
  max-width: 100%;
}
.cover-wrapper.search .bottom .menu {
  margin-top: 16px;
}
.cover-wrapper.search .bottom .menu .list-h a {
  white-space: nowrap;
  -webkit-box-direction: normal;
  -moz-box-direction: normal;
  -webkit-box-orient: horizontal;
  -moz-box-orient: horizontal;
  -webkit-flex-direction: row;
  -ms-flex-direction: row;
  flex-direction: row;
  align-items: baseline;
  padding: 2px;
  margin: 4px;
  color: var(--color-site-inner);
  opacity: 0.75;
  -webkit-opacity: 0.75;
  -moz-opacity: 0.75;
  text-shadow: 0 1px 2px rgba(0,0,0,0.05);
  border-bottom: 2px solid transparent;
}
.cover-wrapper.search .bottom .menu .list-h a i {
  margin-right: 4px;
}
.cover-wrapper.search .bottom .menu .list-h a p {
  font-size: 0.9375rem;
}
.cover-wrapper.search .bottom .menu .list-h a:hover,
.cover-wrapper.search .bottom .menu .list-h a.active,
.cover-wrapper.search .bottom .menu .list-h a:active {
  opacity: 1;
  -webkit-opacity: 1;
  -moz-opacity: 1;
  border-bottom: 2px solid var(--color-site-inner);
}
.cover-wrapper.dock .menu,
.cover-wrapper.featured .menu,
.cover-wrapper.focus .menu {
  border-radius: 6px;
  -webkit-border-radius: 6px;
}
.cover-wrapper.dock .menu .list-h a,
.cover-wrapper.featured .menu .list-h a,
.cover-wrapper.focus .menu .list-h a {
  -webkit-box-direction: normal;
  -moz-box-direction: normal;
  -webkit-box-orient: vertical;
  -moz-box-orient: vertical;
  -webkit-flex-direction: column;
  -ms-flex-direction: column;
  flex-direction: column;
  align-items: center;
  padding: 12px;
  line-height: 24px;
  border-radius: 4px;
  -webkit-border-radius: 4px;
  border-bottom: none;
  text-align: center;
  align-content: flex-end;
  color: rgba(68,68,68,0.7);
  font-size: 1.5rem;
}
@media screen and (max-width: 500px) {
  .cover-wrapper.dock .menu .list-h a,
  .cover-wrapper.featured .menu .list-h a,
  .cover-wrapper.focus .menu .list-h a {
    padding: 12px 8px;
  }
}
.cover-wrapper.dock .menu .list-h a i,
.cover-wrapper.featured .menu .list-h a i,
.cover-wrapper.focus .menu .list-h a i {
  margin: 8px;
}
.cover-wrapper.dock .menu .list-h a p,
.cover-wrapper.featured .menu .list-h a p,
.cover-wrapper.focus .menu .list-h a p {
  font-size: 0.875rem;
}
.cover-wrapper.dock .menu .list-h a.active,
.cover-wrapper.featured .menu .list-h a.active,
.cover-wrapper.focus .menu .list-h a.active {
  background: var(--color-card);
  backdrop-filter: none;
}
.cover-wrapper.dock .menu .list-h a.active i,
.cover-wrapper.featured .menu .list-h a.active i,
.cover-wrapper.focus .menu .list-h a.active i,
.cover-wrapper.dock .menu .list-h a.active i+p,
.cover-wrapper.featured .menu .list-h a.active i+p,
.cover-wrapper.focus .menu .list-h a.active i+p {
  color: #3dd9b6;
}
.cover-wrapper.dock .menu .list-h a.active img+p,
.cover-wrapper.featured .menu .list-h a.active img+p,
.cover-wrapper.focus .menu .list-h a.active img+p {
  color: var(--color-text);
}
.cover-wrapper.dock .menu .list-h a:hover,
.cover-wrapper.featured .menu .list-h a:hover,
.cover-wrapper.focus .menu .list-h a:hover {
  background: var(--color-card);
}
.cover-wrapper.dock .top {
  margin-bottom: 48px;
}
.cover-wrapper.dock .menu {
  background: rgba(255,255,255,0.5);
  position: absolute;
  bottom: 0;
  max-width: 100%;
}
.cover-wrapper.dock .menu .list-h {
  flex-wrap: nowrap;
  -webkit-flex-wrap: nowrap;
  -khtml-flex-wrap: nowrap;
  -moz-flex-wrap: nowrap;
  -o-flex-wrap: nowrap;
  -ms-flex-wrap: nowrap;
  margin: 4px;
}
.cover-wrapper.dock .menu .list-h a+a {
  margin-left: 4px;
}
@media screen and (max-width: 500px) {
  .cover-wrapper.dock .menu .list-h {
    overflow-x: scroll;
  }
  .cover-wrapper.dock .menu .list-h::-webkit-scrollbar {
    height: 0;
    width: 0;
  }
  .cover-wrapper.dock .menu .list-h::-webkit-scrollbar-track-piece {
    background: transparent;
  }
  .cover-wrapper.dock .menu .list-h::-webkit-scrollbar-thumb {
    background: #3dd9b6;
    cursor: pointer;
    border-radius: 0;
    -webkit-border-radius: 0;
  }
  .cover-wrapper.dock .menu .list-h::-webkit-scrollbar-thumb:hover {
    background: #ff5722;
  }
}
@supports (backdrop-filter: blur(20px)) {
  .cover-wrapper.dock .menu {
    background: rgba(255,255,255,0.5);
    backdrop-filter: saturate(200%) blur(20px);
  }
}
.cover-wrapper #parallax-window {
  position: absolute;
  width: 100%;
  height: 100%;
  background: transparent;
}
.parallax-mirror {
  animation-delay: 0s;
  animation-duration: 0.5s;
  animation-fill-mode: forwards;
  animation-timing-function: ease-out;
  animation-name: fadeIn;
}
@-moz-keyframes fadeIn {
  0% {
    opacity: 0;
    -webkit-opacity: 0;
    -moz-opacity: 0;
    filter: blur(12px);
  }
  100% {
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
@-webkit-keyframes fadeIn {
  0% {
    opacity: 0;
    -webkit-opacity: 0;
    -moz-opacity: 0;
    filter: blur(12px);
  }
  100% {
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
@-o-keyframes fadeIn {
  0% {
    opacity: 0;
    -webkit-opacity: 0;
    -moz-opacity: 0;
    filter: blur(12px);
  }
  100% {
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
@keyframes fadeIn {
  0% {
    opacity: 0;
    -webkit-opacity: 0;
    -moz-opacity: 0;
    filter: blur(12px);
  }
  100% {
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
@font-face {
  font-family: 'UbuntuMono';
  src: url("https://unpkg.com/volantis-static@0.0.1654736714924/media/fonts/UbuntuMono/UbuntuMono-Regular.ttf");
  font-weight: 'normal';
  font-style: 'normal';
  font-display: swap;
}
@font-face {
  font-family: 'Varela Round';
  src: url("https://unpkg.com/volantis-static@0.0.1654736714924/media/fonts/VarelaRound/VarelaRound-Regular.ttf");
  font-weight: 'normal';
  font-style: 'normal';
  font-display: swap;
}
.l_header {
  position: fixed;
  z-index: 1000;
  top: 0;
  width: 100%;
  height: 64px;
  background: var(--color-card);
  box-shadow: 0 1px 2px 0px rgba(0,0,0,0.1);
  -webkit-box-shadow: 0 1px 2px 0px rgba(0,0,0,0.1);
}
.l_header.auto {
  transition: opacity 0.4s ease;
  -webkit-transition: opacity 0.4s ease;
  -khtml-transition: opacity 0.4s ease;
  -moz-transition: opacity 0.4s ease;
  -o-transition: opacity 0.4s ease;
  -ms-transition: opacity 0.4s ease;
  visibility: hidden;
}
.l_header.auto.show {
  opacity: 1 !important;
  -webkit-opacity: 1 !important;
  -moz-opacity: 1 !important;
  visibility: visible;
}
.l_header .container {
  margin-left: 16px;
  margin-right: 16px;
}
.l_header #wrapper {
  height: 100%;
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}
.l_header #wrapper .nav-main,
.l_header #wrapper .nav-sub {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: -ms-flexbox /* TWEENER - IE 10 */;
  display: -webkit-flex /* NEW - Chrome */;
  display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
  display: flex;
  flex-wrap: nowrap;
  -webkit-flex-wrap: nowrap;
  -khtml-flex-wrap: nowrap;
  -moz-flex-wrap: nowrap;
  -o-flex-wrap: nowrap;
  -ms-flex-wrap: nowrap;
  justify-content: space-between;
  -webkit-justify-content: space-between;
  -khtml-justify-content: space-between;
  -moz-justify-content: space-between;
  -o-justify-content: space-between;
  -ms-justify-content: space-between;
  align-items: center;
}
.l_header #wrapper .nav-main {
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
}
.l_header #wrapper.sub .nav-main {
  transform: translateY(-64px);
  -webkit-transform: translateY(-64px);
  -khtml-transform: translateY(-64px);
  -moz-transform: translateY(-64px);
  -o-transform: translateY(-64px);
  -ms-transform: translateY(-64px);
}
.l_header #wrapper .nav-sub {
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
  opacity: 0;
  -webkit-opacity: 0;
  -moz-opacity: 0;
  height: 64px;
  width: calc(100% - 2 * 16px);
  position: absolute;
}
.l_header #wrapper .nav-sub ::-webkit-scrollbar {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: none;
}
@media screen and (min-width: 2048px) {
  .l_header #wrapper .nav-sub {
    max-width: 55vw;
    margin: auto;
  }
}
.l_header #wrapper.sub .nav-sub {
  opacity: 1;
  -webkit-opacity: 1;
  -moz-opacity: 1;
}
.l_header #wrapper .title {
  position: relative;
  color: var(--color-text);
  padding-left: 24px;
  max-height: 64px;
}
.l_header #wrapper .nav-main .title {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  flex-shrink: 0;
  line-height: 64px;
  padding: 0 24px;
  font-size: 1.25rem;
  font-family: "Varela Round", "PingFang SC", "Microsoft YaHei", Helvetica, Arial, Helvetica, monospace;
}
.l_header #wrapper .nav-main .title img {
  height: 64px;
}
.l_header .nav-sub {
  max-width: 1080px;
  margin: auto;
}
.l_header .nav-sub .title {
  font-weight: bold;
  font-family: UbuntuMono, "Varela Round", "PingFang SC", "Microsoft YaHei", Helvetica, Arial, Menlo, Monaco, monospace, sans-serif;
  line-height: 1.2;
  max-height: 64px;
  white-space: normal;
  flex-shrink: 1;
}
.l_header .switcher {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: none;
  line-height: 64px;
  align-items: center;
}
.l_header .switcher .s-toc {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: none;
}
@media screen and (max-width: 768px) {
  .l_header .switcher .s-toc {
    display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
    display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
    display: -ms-flexbox /* TWEENER - IE 10 */;
    display: -webkit-flex /* NEW - Chrome */;
    display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
    display: flex;
  }
}
.l_header .switcher >li {
  height: 48px;
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
  margin: 2px;
}
@media screen and (max-width: 500px) {
  .l_header .switcher >li {
    margin: 0 1px;
    height: 48px;
  }
}
.l_header .switcher >li >a {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: -ms-flexbox /* TWEENER - IE 10 */;
  display: -webkit-flex /* NEW - Chrome */;
  display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
  display: flex;
  justify-content: center;
  -webkit-justify-content: center;
  -khtml-justify-content: center;
  -moz-justify-content: center;
  -o-justify-content: center;
  -ms-justify-content: center;
  align-items: center;
  width: 48px;
  height: 48px;
  padding: 0.85em 1.1em;
  border-radius: 100px;
  -webkit-border-radius: 100px;
  border: none;
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
  color: #3dd9b6;
}
.l_header .switcher >li >a:hover {
  border: none;
}
.l_header .switcher >li >a.active,
.l_header .switcher >li >a:active {
  border: none;
  background: var(--color-site-bg);
}
@media screen and (max-width: 500px) {
  .l_header .switcher >li >a {
    width: 36px;
    height: 48px;
  }
}
.l_header .nav-sub .switcher {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: -ms-flexbox /* TWEENER - IE 10 */;
  display: -webkit-flex /* NEW - Chrome */;
  display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
  display: flex;
}
.l_header .m_search {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: -ms-flexbox /* TWEENER - IE 10 */;
  display: -webkit-flex /* NEW - Chrome */;
  display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
  display: flex;
  height: 64px;
  width: 240px;
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
}
@media screen and (max-width: 1024px) {
  .l_header .m_search {
    width: 44px;
    min-width: 44px;
  }
  .l_header .m_search input::placeholder {
    opacity: 0;
    -webkit-opacity: 0;
    -moz-opacity: 0;
  }
  .l_header .m_search:hover {
    width: 240px;
  }
  .l_header .m_search:hover input::placeholder {
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
@media screen and (min-width: 500px) {
  .l_header .m_search:hover .input {
    width: 100%;
  }
  .l_header .m_search:hover .input::placeholder {
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
@media screen and (max-width: 500px) {
  .l_header .m_search {
    min-width: 0;
  }
  .l_header .m_search input::placeholder {
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
.l_header .m_search .form {
  position: relative;
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: -ms-flexbox /* TWEENER - IE 10 */;
  display: -webkit-flex /* NEW - Chrome */;
  display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
  display: flex;
  width: 100%;
  align-items: center;
}
.l_header .m_search .icon {
  position: absolute;
  width: 36px;
  left: 5px;
  color: var(--color-meta);
}
@media screen and (max-width: 500px) {
  .l_header .m_search .icon {
    display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
    display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
    display: none;
  }
}
.l_header .m_search .input {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: block;
  padding-top: 8px;
  padding-bottom: 8px;
  line-height: 1.3;
  width: 100%;
  color: var(--color-text);
  background: #fafafa;
  box-shadow: none;
  -webkit-box-shadow: none;
  box-sizing: border-box;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  padding-left: 40px;
  font-size: 0.875rem;
  border-radius: 8px;
  -webkit-border-radius: 8px;
  border: none;
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
}
@media screen and (min-width: 500px) {
  .l_header .m_search .input:focus {
    box-shadow: 0 4px 8px 0px rgba(0,0,0,0.1);
    -webkit-box-shadow: 0 4px 8px 0px rgba(0,0,0,0.1);
  }
}
@media screen and (max-width: 500px) {
  .l_header .m_search .input {
    background: var(--color-block);
    padding-left: 8px;
    border: none;
  }
  .l_header .m_search .input:hover,
  .l_header .m_search .input:focus {
    border: none;
  }
}
@media (max-width: 500px) {
  .l_header .m_search {
    left: 0;
    width: 0;
    overflow: hidden;
    position: absolute;
    background: #fff;
    transition: all 0.28s ease;
    -webkit-transition: all 0.28s ease;
    -khtml-transition: all 0.28s ease;
    -moz-transition: all 0.28s ease;
    -o-transition: all 0.28s ease;
    -ms-transition: all 0.28s ease;
  }
  .l_header .m_search .input {
    border-radius: 32px;
    -webkit-border-radius: 32px;
    margin-left: 16px;
    padding-left: 16px;
  }
  .l_header.z_search-open .m_search {
    width: 100%;
  }
  .l_header.z_search-open .m_search .input {
    width: calc(100% - 120px);
  }
}
ul.m-pc >li>a {
  color: inherit;
  border-bottom: 2px solid transparent;
}
ul.m-pc >li>a:active,
ul.m-pc >li>a.active {
  border-bottom: 2px solid #3dd9b6;
}
ul.m-pc li:hover >ul.list-v,
ul.list-v li:hover >ul.list-v {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: block;
}
ul.nav-list-h {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: -ms-flexbox /* TWEENER - IE 10 */;
  display: -webkit-flex /* NEW - Chrome */;
  display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
  display: flex;
  align-items: stretch;
}
ul.nav-list-h>li {
  position: relative;
  justify-content: center;
  -webkit-justify-content: center;
  -khtml-justify-content: center;
  -moz-justify-content: center;
  -o-justify-content: center;
  -ms-justify-content: center;
  height: 100%;
  line-height: 2.4;
  border-radius: 4px;
  -webkit-border-radius: 4px;
}
ul.nav-list-h>li >a {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-weight: 600;
}
ul.list-v {
  z-index: 1;
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: none;
  position: absolute;
  background: var(--color-card);
  box-shadow: 0 2px 4px 0px rgba(0,0,0,0.08), 0 4px 8px 0px rgba(0,0,0,0.08), 0 8px 16px 0px rgba(0,0,0,0.08);
  -webkit-box-shadow: 0 2px 4px 0px rgba(0,0,0,0.08), 0 4px 8px 0px rgba(0,0,0,0.08), 0 8px 16px 0px rgba(0,0,0,0.08);
  margin-top: -6px;
  border-radius: 4px;
  -webkit-border-radius: 4px;
  padding: 8px 0;
}
ul.list-v.show {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: block;
}
ul.list-v hr {
  margin-top: 8px;
  margin-bottom: 8px;
}
ul.list-v >li {
  white-space: nowrap;
  word-break: keep-all;
}
ul.list-v >li.header {
  font-size: 0.78125rem;
  font-weight: bold;
  line-height: 2em;
  color: var(--color-meta);
  margin: 8px 16px 4px;
}
ul.list-v >li.header i {
  margin-right: 8px;
}
ul.list-v >li ul {
  margin-left: 0;
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: none;
  margin-top: -40px;
}
ul.list-v .aplayer-container {
  min-height: 64px;
  padding: 6px 16px;
}
ul.list-v >li>a {
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: block;
  color: var(--color-list);
  font-size: 0.875rem;
  font-weight: bold;
  line-height: 36px;
  padding: 0 20px 0 16px;
  text-overflow: ellipsis;
  margin: 0 4px;
  border-radius: 4px;
  -webkit-border-radius: 4px;
}
@media screen and (max-width: 1024px) {
  ul.list-v >li>a {
    line-height: 40px;
  }
}
ul.list-v >li>a >i {
  margin-right: 8px;
}
ul.list-v >li>a:active,
ul.list-v >li>a.active {
  color: var(--color-list-hl);
}
ul.list-v >li>a:hover {
  color: var(--color-list-hl);
  background: var(--color-site-bg);
}
.l_header .menu >ul>li>a {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: block;
  padding: 0 8px;
}
.l_header .menu >ul>li>a >i {
  margin-right: 4px;
}
.l_header ul.nav-list-h>li {
  color: var(--color-list);
  line-height: 64px;
}
.l_header ul.nav-list-h>li >a {
  max-height: 64px;
  overflow: hidden;
  color: inherit;
}
.l_header ul.nav-list-h>li >a:active,
.l_header ul.nav-list-h>li >a.active {
  color: #3dd9b6;
}
.l_header ul.nav-list-h>li:hover>a {
  color: var(--color-list-hl);
}
.l_header ul.nav-list-h>li i.music {
  animation: rotate-effect 1.5s linear infinite;
  -webkit-animation: rotate-effect 1.5s linear infinite;
  -khtml-animation: rotate-effect 1.5s linear infinite;
  -moz-animation: rotate-effect 1.5s linear infinite;
  -o-animation: rotate-effect 1.5s linear infinite;
  -ms-animation: rotate-effect 1.5s linear infinite;
}
@-moz-keyframes rotate-effect {
  0% {
    transform: rotate(0);
    -webkit-transform: rotate(0);
    -khtml-transform: rotate(0);
    -moz-transform: rotate(0);
    -o-transform: rotate(0);
    -ms-transform: rotate(0);
  }
  25% {
    transform: rotate(90deg);
    -webkit-transform: rotate(90deg);
    -khtml-transform: rotate(90deg);
    -moz-transform: rotate(90deg);
    -o-transform: rotate(90deg);
    -ms-transform: rotate(90deg);
  }
  50% {
    transform: rotate(180deg);
    -webkit-transform: rotate(180deg);
    -khtml-transform: rotate(180deg);
    -moz-transform: rotate(180deg);
    -o-transform: rotate(180deg);
    -ms-transform: rotate(180deg);
  }
  75% {
    transform: rotate(270deg);
    -webkit-transform: rotate(270deg);
    -khtml-transform: rotate(270deg);
    -moz-transform: rotate(270deg);
    -o-transform: rotate(270deg);
    -ms-transform: rotate(270deg);
  }
  100% {
    transform: rotate(360deg);
    -webkit-transform: rotate(360deg);
    -khtml-transform: rotate(360deg);
    -moz-transform: rotate(360deg);
    -o-transform: rotate(360deg);
    -ms-transform: rotate(360deg);
  }
}
@-webkit-keyframes rotate-effect {
  0% {
    transform: rotate(0);
    -webkit-transform: rotate(0);
    -khtml-transform: rotate(0);
    -moz-transform: rotate(0);
    -o-transform: rotate(0);
    -ms-transform: rotate(0);
  }
  25% {
    transform: rotate(90deg);
    -webkit-transform: rotate(90deg);
    -khtml-transform: rotate(90deg);
    -moz-transform: rotate(90deg);
    -o-transform: rotate(90deg);
    -ms-transform: rotate(90deg);
  }
  50% {
    transform: rotate(180deg);
    -webkit-transform: rotate(180deg);
    -khtml-transform: rotate(180deg);
    -moz-transform: rotate(180deg);
    -o-transform: rotate(180deg);
    -ms-transform: rotate(180deg);
  }
  75% {
    transform: rotate(270deg);
    -webkit-transform: rotate(270deg);
    -khtml-transform: rotate(270deg);
    -moz-transform: rotate(270deg);
    -o-transform: rotate(270deg);
    -ms-transform: rotate(270deg);
  }
  100% {
    transform: rotate(360deg);
    -webkit-transform: rotate(360deg);
    -khtml-transform: rotate(360deg);
    -moz-transform: rotate(360deg);
    -o-transform: rotate(360deg);
    -ms-transform: rotate(360deg);
  }
}
@-o-keyframes rotate-effect {
  0% {
    transform: rotate(0);
    -webkit-transform: rotate(0);
    -khtml-transform: rotate(0);
    -moz-transform: rotate(0);
    -o-transform: rotate(0);
    -ms-transform: rotate(0);
  }
  25% {
    transform: rotate(90deg);
    -webkit-transform: rotate(90deg);
    -khtml-transform: rotate(90deg);
    -moz-transform: rotate(90deg);
    -o-transform: rotate(90deg);
    -ms-transform: rotate(90deg);
  }
  50% {
    transform: rotate(180deg);
    -webkit-transform: rotate(180deg);
    -khtml-transform: rotate(180deg);
    -moz-transform: rotate(180deg);
    -o-transform: rotate(180deg);
    -ms-transform: rotate(180deg);
  }
  75% {
    transform: rotate(270deg);
    -webkit-transform: rotate(270deg);
    -khtml-transform: rotate(270deg);
    -moz-transform: rotate(270deg);
    -o-transform: rotate(270deg);
    -ms-transform: rotate(270deg);
  }
  100% {
    transform: rotate(360deg);
    -webkit-transform: rotate(360deg);
    -khtml-transform: rotate(360deg);
    -moz-transform: rotate(360deg);
    -o-transform: rotate(360deg);
    -ms-transform: rotate(360deg);
  }
}
@keyframes rotate-effect {
  0% {
    transform: rotate(0);
    -webkit-transform: rotate(0);
    -khtml-transform: rotate(0);
    -moz-transform: rotate(0);
    -o-transform: rotate(0);
    -ms-transform: rotate(0);
  }
  25% {
    transform: rotate(90deg);
    -webkit-transform: rotate(90deg);
    -khtml-transform: rotate(90deg);
    -moz-transform: rotate(90deg);
    -o-transform: rotate(90deg);
    -ms-transform: rotate(90deg);
  }
  50% {
    transform: rotate(180deg);
    -webkit-transform: rotate(180deg);
    -khtml-transform: rotate(180deg);
    -moz-transform: rotate(180deg);
    -o-transform: rotate(180deg);
    -ms-transform: rotate(180deg);
  }
  75% {
    transform: rotate(270deg);
    -webkit-transform: rotate(270deg);
    -khtml-transform: rotate(270deg);
    -moz-transform: rotate(270deg);
    -o-transform: rotate(270deg);
    -ms-transform: rotate(270deg);
  }
  100% {
    transform: rotate(360deg);
    -webkit-transform: rotate(360deg);
    -khtml-transform: rotate(360deg);
    -moz-transform: rotate(360deg);
    -o-transform: rotate(360deg);
    -ms-transform: rotate(360deg);
  }
}
.menu-phone li ul.list-v {
  right: calc(100% - 0.5 * 16px);
}
.menu-phone li ul.list-v ul {
  right: calc(100% - 0.5 * 16px);
}
#wrapper {
  max-width: 1080px;
  margin: auto;
}
@media screen and (min-width: 2048px) {
  #wrapper {
    max-width: 55vw;
  }
}
#wrapper .menu {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -webkit-flex: 1 1;
  -ms-flex: 1 1;
  flex: 1 1;
  margin: 0 16px 0 0;
}
#wrapper .menu .list-v ul {
  left: calc(100% - 0.5 * 16px);
}
.menu-phone {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: none;
  margin-top: 16px;
  right: 8px;
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
}
.menu-phone ul {
  right: calc(100% - 0.5 * 16px);
}
@media screen and (max-width: 500px) {
  .menu-phone {
    display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
    display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
    display: block;
  }
}
.l_header {
  max-width: 65vw;
  left: calc((100% - 65vw) * 0.5);
  border-bottom-left-radius: 8px;
  border-bottom-right-radius: 8px;
}
@media screen and (max-width: 2048px) {
  .l_header {
    max-width: 1112px;
    left: calc((100% - 1112px) * 0.5);
  }
}
@media screen and (max-width: 1112px) {
  .l_header {
    left: 0;
    border-radius: 0;
    -webkit-border-radius: 0;
    max-width: 100%;
  }
}
@media screen and (max-width: 500px) {
  .l_header .container {
    margin-left: 0;
    margin-right: 0;
  }
  .l_header #wrapper .nav-main .title {
    padding-left: 16px;
    padding-right: 16px;
  }
  .l_header #wrapper .nav-sub {
    width: 100%;
  }
  .l_header #wrapper .nav-sub .title {
    overflow-y: scroll;
    margin-top: 2px;
    padding: 8px 16px;
  }
  .l_header #wrapper .switcher {
    display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
    display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
    display: -ms-flexbox /* TWEENER - IE 10 */;
    display: -webkit-flex /* NEW - Chrome */;
    display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
    display: flex;
    margin-right: 8px;
  }
  .l_header .menu {
    display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
    display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
    display: none;
  }
}
@media screen and (max-width: 500px) {
  .list-v li {
    max-width: 270px;
  }
}
#u-search {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  padding: 60px 20px;
  z-index: 1001;
}
@media screen and (max-width: 680px) {
  #u-search {
    padding: 0px;
  }
}
#navlogo {
  border-radius: 50%;
  -webkit-border-radius: 50%;
}

  </style>
  <link rel="stylesheet" href="/css/style.css" media="print" onload="this.media='all';this.onload=null">
  <noscript><link rel="stylesheet" href="/css/style.css"></noscript>
  
<script>
if (/*@cc_on!@*/false || (!!window.MSInputMethodContext && !!document.documentMode))
    document.write(
	'<style>'+
		'html{'+
			'overflow-x: hidden !important;'+
			'overflow-y: hidden !important;'+
		'}'+
		'.kill-ie{'+
			'text-align:center;'+
			'height: 100%;'+
			'margin-top: 15%;'+
			'margin-bottom: 5500%;'+
		'}'+
    '.kill-t{'+
      'font-size: 2rem;'+
    '}'+
    '.kill-c{'+
      'font-size: 1.2rem;'+
    '}'+
		'#l_header,#l_body{'+
			'display: none;'+
		'}'+
	'</style>'+
    '<div class="kill-ie">'+
        `<span class="kill-t"><b>抱歉，您的浏览器无法访问本站</b></span><br/>`+
        `<span class="kill-c">微软已经于2016年终止了对 Internet Explorer (IE) 10 及更早版本的支持，<br/>继续使用存在极大的安全隐患，请使用当代主流的浏览器进行访问。</span><br/>`+
        `<a target="_blank" rel="noopener" href="https://blogs.windows.com/windowsexperience/2021/05/19/the-future-of-internet-explorer-on-windows-10-is-in-microsoft-edge/"><strong>了解详情 ></strong></a>`+
    '</div>');
</script>


<noscript>
	<style>
		html{
			overflow-x: hidden !important;
			overflow-y: hidden !important;
		}
		.kill-noscript{
			text-align:center;
			height: 100%;
			margin-top: 15%;
			margin-bottom: 5500%;
		}
    .kill-t{
      font-size: 2rem;
    }
    .kill-c{
      font-size: 1.2rem;
    }
		#l_header,#l_body{
			display: none;
		}
	</style>
    <div class="kill-noscript">
        <span class="kill-t"><b>抱歉，您的浏览器无法访问本站</b></span><br/>
        <span class="kill-c">本页面需要浏览器支持（启用）JavaScript</span><br/>
        <a target="_blank" rel="noopener" href="https://www.baidu.com/s?wd=启用JavaScript"><strong>了解详情 ></strong></a>
    </div>
</noscript>


  <script>
  /************这个文件存放不需要重载的全局变量和全局函数*********/
  window.volantis = {}; // volantis 全局变量
  volantis.debug = "env"; // 调试模式
  volantis.dom = {}; // 页面Dom see: /source/js/app.js etc.

  volantis.GLOBAL_CONFIG ={
    debug: "env",
    cdn: {"js":{"app":"/js/app.js","parallax":"/js/plugins/parallax.js","rightMenu":"/js/plugins/rightMenu.js","rightMenus":"/js/plugins/rightMenus.js","sites":"/js/plugins/tags/sites.js","friends":"/js/plugins/tags/friends.js","contributors":"/js/plugins/tags/contributors.js","search":"/js/search/hexo.js"},"css":{"style":"/css/style.css"}},
    default: {"avatar":"https://unpkg.com/volantis-static@0.0.1654736714924/media/placeholder/avatar/round/3442075.svg","link":"https://unpkg.com/volantis-static@0.0.1654736714924/media/placeholder/link/8f277b4ee0ecd.svg","cover":"https://unpkg.com/volantis-static@0.0.1654736714924/media/placeholder/cover/76b86c0226ffd.svg","image":"https://unpkg.com/volantis-static@0.0.1654736714924/media/placeholder/image/2659360.svg"},
    lastupdate: new Date(1723611521469),
    sidebar: {
      for_page: ["blogger","repos","category","tagcloud","donate","webinfo"],
      for_post: ["toc"],
      webinfo: {
        lastupd: {
          enable: true,
          friendlyShow: true
        },
        runtime: {
          data: "2020/07/06",
          unit: "天"
        }
      }
    },
    plugins: {
      message: {"enable":true,"css":"https://unpkg.com/volantis-static@0.0.1654736714924/libs/izitoast/dist/css/iziToast.min.css","js":"https://unpkg.com/volantis-static@0.0.1654736714924/libs/izitoast/dist/js/iziToast.min.js","icon":{"default":"fa-solid fa-info-circle light-blue","quection":"fa-solid fa-question-circle light-blue"},"time":{"default":5000,"quection":20000},"position":"topRight","transitionIn":"bounceInLeft","transitionOut":"fadeOutRight","titleColor":"var(--color-text)","messageColor":"var(--color-text)","backgroundColor":"var(--color-card)","zindex":2147483647,"copyright":{"enable":true,"title":"知识共享许可协议","message":"请遵守 CC BY-NC-SA 4.0 协议。","icon":"far fa-copyright light-blue"},"aplayer":{"enable":true,"play":"fa-solid fa-play","pause":"fa-solid fa-pause"},"rightmenu":{"enable":true,"notice":true}},
      fancybox: {"css":"https://unpkg.com/volantis-static@0.0.1654736714924/libs/@fancyapps/ui/dist/fancybox.css","js":"https://unpkg.com/volantis-static@0.0.1654736714924/libs/@fancyapps/ui/dist/fancybox.umd.js"},
      
      
      
      rightmenus: {"enable":true,"order":["plugins.navigation","hr","plugins.inputBox","plugins.seletctText","plugins.elementCheck","plugins.elementImage","menus.link","hr","menus.darkMode","plugins.articlePage","music"],"options":{"iconPrefix":"fa-solid","articleShowLink":true,"musicAlwaysShow":true},"plugins":{"navigation":[{"id":"left","name":"转到上一页","icon":"fa-solid fa-arrow-left","event":"history.back()","group":"navigation"},{"id":"right","name":"转到下一页","icon":"fa-solid fa-arrow-right","event":"history.forward()","group":"navigation"},{"id":"redo","name":"刷新当前页面","icon":"fa-solid fa-redo","event":"window.location.reload()","group":"navigation"},{"id":"up","name":"回到顶部","icon":"fa-solid fa-arrow-up","event":"VolantisApp.scrolltoElement(volantis.dom.bodyAnchor)","group":"navigation"}],"inputBox":[{"id":"copyPaste","name":"粘贴文本","icon":"fa-solid fa-paste","event":"copyPaste","group":"inputBox"},{"id":"copyAll","name":"全选文本","icon":"fa-solid fa-object-ungroup","event":"copyAll","group":"inputBox"},{"id":"copyCut","name":"剪切文本","icon":"fa-solid fa-cut","event":"copyCut","group":"inputBox"}],"seletctText":[{"id":"copyText","name":"复制文本","icon":"fa-solid fa-copy","event":"copyText","group":"seletctText"},{"id":"searchWord","name":"站内搜索","icon":"fa-solid fa-search","event":"OpenSearch(__text__)","group":"seletctText"},{"id":"bingSearch","name":"必应搜索","icon":"fa-solid fa-search","event":"window.open(`https://cn.bing.com/search?q=${__text__}`)","group":"seletctText"}],"elementCheck":[{"id":"openTab","name":"新标签页打开","icon":"fa-solid fa-external-link-square-alt","event":"window.open(__link__)","group":"elementCheck"},{"id":"copyLink","name":"复制链接地址","icon":"fa-solid fa-link","event":"copyLink","group":"elementCheck"}],"elementImage":[{"id":"copyImg","name":"复制图片","icon":"fa-solid fa-image","event":"copyImg","group":"elementImage"},{"id":"googleImg","name":"谷歌识图","icon":"fa-solid fa-images","event":"window.open(`https://www.google.com.hk/searchbyimage?image_url=${__link__}`)","group":"elementImage"}],"articlePage":[{"id":"printMode","name":"打印页面","icon":"fa-solid fa-print","event":"printMode","group":"articlePage"},{"id":"readMode","name":"阅读模式","icon":"fa-solid fa-book-open","event":"readMode","group":"articlePage"}]},"menus":{"link":[{"id":"help","name":"常见问题","icon":"fa-solid fa-question","link":"https://volantis.js.org/faqs/","group":"link"},{"id":"examples","name":"示例博客","icon":"fa-solid fa-rss","link":"https://volantis.js.org/examples/","group":"link"},{"id":"contributors","name":"加入社区","icon":"fa-solid fa-fan","link":"https://volantis.js.org/contributors/","group":"link"},"hr",{"id":"source_docs","name":"本站源码","icon":"fa-solid fa-code-branch","link":"https://github.com/volantis-x/volantis-docs/","group":"link"},{"id":"source_theme","name":"主题源码","icon":"fa-solid fa-code-branch","link":"https://github.com/volantis-x/hexo-theme-volantis/","group":"link"}]}}
      
    }
  }

  /******************** volantis.EventListener ********************************/
  // 事件监听器 see: /source/js/app.js
  volantis.EventListener = {}
  // 这里存放pjax切换页面时将被移除的事件监听器
  volantis.EventListener.list = []
  //构造方法
  function volantisEventListener(type, f, ele) {
    this.type = type
    this.f = f
    this.ele = ele
  }
  // 移除事件监听器
  volantis.EventListener.remove = () => {
    volantis.EventListener.list.forEach(function (i) {
      i.ele.removeEventListener(i.type, i.f, false)
    })
    volantis.EventListener.list = []
  }
  /******************** volantis.dom.$ ********************************/
  // 注：这里没有选择器，也没有forEach一次只处理一个dom，这里重新封装主题常用的dom方法，返回的是dom对象，对象包含了以下方法，同时保留dom的原生API
  function volantisDom(ele) {
    if (!ele) ele = document.createElement("div")
    this.ele = ele;
    // ==============================================================
    this.ele.find = (c) => {
      let q = this.ele.querySelector(c)
      if (q)
        return new volantisDom(q)
    }
    // ==============================================================
    this.ele.hasClass = (c) => {
      return this.ele.className.match(new RegExp('(\\s|^)' + c + '(\\s|$)'));
    }
    this.ele.addClass = (c) => {
      this.ele.classList.add(c);
      return this.ele
    }
    this.ele.removeClass = (c) => {
      this.ele.classList.remove(c);
      return this.ele
    }
    this.ele.toggleClass = (c) => {
      if (this.ele.hasClass(c)) {
        this.ele.removeClass(c)
      } else {
        this.ele.addClass(c)
      }
      return this.ele
    }
    // ==============================================================
    // 参数 r 为 true 表示pjax切换页面时事件监听器将被移除，false不移除
    this.ele.on = (c, f, r = 1) => {
      this.ele.addEventListener(c, f, false)
      if (r) {
        volantis.EventListener.list.push(new volantisEventListener(c, f, this.ele))
      }
      return this.ele
    }
    this.ele.click = (f, r) => {
      this.ele.on("click", f, r)
      return this.ele
    }
    this.ele.scroll = (f, r) => {
      this.ele.on("scroll", f, r)
      return this.ele
    }
    // ==============================================================
    this.ele.html = (c) => {
      // if(c=== undefined){
      //   return this.ele.innerHTML
      // }else{
      this.ele.innerHTML = c
      return this.ele
      // }
    }
    // ==============================================================
    this.ele.hide = (c) => {
      this.ele.style.display = "none"
      return this.ele
    }
    this.ele.show = (c) => {
      this.ele.style.display = "block"
      return this.ele
    }
    // ==============================================================
    return this.ele
  }
  volantis.dom.$ = (ele) => {
    return !!ele ? new volantisDom(ele) : null;
  }
  /******************** RunItem ********************************/
  function RunItem() {
    this.list = []; // 存放回调函数
    this.start = () => {
      for (var i = 0; i < this.list.length; i++) {
        this.list[i].run();
      }
    };
    this.push = (fn, name, setRequestAnimationFrame = true) => {
      let myfn = fn
      if (setRequestAnimationFrame) {
        myfn = ()=>{
          volantis.requestAnimationFrame(fn)
        }
      }
      var f = new Item(myfn, name);
      this.list.push(f);
    };
    this.remove = (name) =>{
      for (let index = 0; index < this.list.length; index++) {
        const e = this.list[index];
        if (e.name == name) {
          this.list.splice(index,1);
        }
      }
    }
    // 构造一个可以run的对象
    function Item(fn, name) {
      // 函数名称
      this.name = name || fn.name;
      // run方法
      this.run = () => {
        try {
          fn()
        } catch (error) {
          console.log(error);
        }
      };
    }
  }
  /******************** Pjax ********************************/
  // /layout/_plugins/pjax/index.ejs
  // volantis.pjax.send(callBack[,"callBackName"]) 传入pjax:send回调函数
  // volantis.pjax.push(callBack[,"callBackName"]) 传入pjax:complete回调函数
  // volantis.pjax.error(callBack[,"callBackName"]) 传入pjax:error回调函数
  volantis.pjax = {};
  volantis.pjax.method = {
    complete: new RunItem(),
    error: new RunItem(),
    send: new RunItem(),
  };
  volantis.pjax = Object.assign(volantis.pjax, {
    push: volantis.pjax.method.complete.push,
    error: volantis.pjax.method.error.push,
    send: volantis.pjax.method.send.push,
  });
  /******************** RightMenu ********************************/
  // volantis.rightmenu.handle(callBack[,"callBackName"]) 外部菜单项控制
  // 可在 volantis.mouseEvent 处获取右键事件
  volantis.rightmenu = {};
  volantis.rightmenu.method = {
    handle: new RunItem(),
  }
  volantis.rightmenu = Object.assign(volantis.rightmenu, {
    handle: volantis.rightmenu.method.handle.push,
  });
  /********************  Dark Mode  ********************************/
  // /layout/_partial/scripts/darkmode.ejs
  // volantis.dark.mode 当前模式 dark or light
  // volantis.dark.toggle() 暗黑模式触发器
  // volantis.dark.push(callBack[,"callBackName"]) 传入触发器回调函数
  volantis.dark = {};
  volantis.dark.method = {
    toggle: new RunItem(),
  };
  volantis.dark = Object.assign(volantis.dark, {
    push: volantis.dark.method.toggle.push,
  });
  /********************  Message  ********************************/
  // VolantisApp.message
  /********************  isMobile  ********************************/
  // /source/js/app.js
  // volantis.isMobile
  // volantis.isMobileOld
  /********************脚本动态加载函数********************************/
  // volantis.js(src, cb)  cb 可以传入onload回调函数 或者 JSON对象 例如: volantis.js("src", ()=>{}) 或 volantis.js("src", {defer:true,onload:()=>{}})
  // volantis.css(src)

  // 返回Promise对象，如下方法同步加载资源，这利于处理文件资源之间的依赖关系，例如：APlayer 需要在 MetingJS 之前加载
  // (async () => {
  //     await volantis.js("...theme.plugins.aplayer.js.aplayer...")
  //     await volantis.js("...theme.plugins.aplayer.js.meting...")
  // })();

  // 已经加入了setTimeout
  volantis.js = (src, cb) => {
    return new Promise(resolve => {
      setTimeout(function () {
        var HEAD = document.getElementsByTagName("head")[0] || document.documentElement;
        var script = document.createElement("script");
        script.setAttribute("type", "text/javascript");
        if (cb) {
          if (JSON.stringify(cb)) {
            for (let p in cb) {
              if (p == "onload") {
                script[p] = () => {
                  cb[p]()
                  resolve()
                }
              } else {
                script[p] = cb[p]
                script.onload = resolve
              }
            }
          } else {
            script.onload = () => {
              cb()
              resolve()
            };
          }
        } else {
          script.onload = resolve
        }
        script.setAttribute("src", src);
        HEAD.appendChild(script);
      });
    });
  }
  volantis.css = (src) => {
    return new Promise(resolve => {
      setTimeout(function () {
        var link = document.createElement('link');
        link.rel = "stylesheet";
        link.href = src;
        link.onload = resolve;
        document.getElementsByTagName("head")[0].appendChild(link);
      });
    });
  }
  /********************按需加载的插件********************************/
  // volantis.import.jQuery().then(()=>{})
  volantis.import = {
    jQuery: () => {
      if (typeof jQuery == "undefined") {
        return volantis.js("https://unpkg.com/volantis-static@0.0.1654736714924/libs/jquery/dist/jquery.min.js")
      } else {
        return new Promise(resolve => {
          resolve()
        });
      }
    }
  }
  /********************** requestAnimationFrame ********************************/
  // 1、requestAnimationFrame 会把每一帧中的所有 DOM 操作集中起来，在一次重绘或回流中就完成，并且重绘或回流的时间间隔紧紧跟随浏览器的刷新频率，一般来说，这个频率为每秒60帧。
  // 2、在隐藏或不可见的元素中，requestAnimationFrame 将不会进行重绘或回流，这当然就意味着更少的的 cpu，gpu 和内存使用量。
  volantis.requestAnimationFrame = (fn)=>{
    if (!window.requestAnimationFrame) {
      window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame;
    }
    window.requestAnimationFrame(fn)
  }
  /************************ layoutHelper *****************************************/
  volantis.layoutHelper = (helper, html, opt)=>{
    opt = Object.assign({clean:false, pjax:true}, opt)
    function myhelper(helper, html, clean) {
      volantis.tempDiv = document.createElement("div");
      volantis.tempDiv.innerHTML = html;
      let layoutHelper = document.querySelector("#layoutHelper-"+helper)
      if (layoutHelper) {
        if (clean) {
          layoutHelper.innerHTML = ""
        }
        layoutHelper.append(volantis.tempDiv);
      }
    }
    myhelper(helper, html, opt.clean)
    if (opt.pjax) {
      volantis.pjax.push(()=>{
        myhelper(helper, html, opt.clean)
      },"layoutHelper-"+helper)
    }
  }
  /****************************** 滚动事件处理 ****************************************/
  volantis.scroll = {
    engine: new RunItem(),
    unengine: new RunItem(),
  };
  volantis.scroll = Object.assign(volantis.scroll, {
    push: volantis.scroll.engine.push,
  });
  // 滚动条距离顶部的距离
  volantis.scroll.getScrollTop = () =>{
    let scrollPos;
    if (window.pageYOffset) {
      scrollPos = window.pageYOffset;
    } else if (document.compatMode && document.compatMode != 'BackCompat') {
      scrollPos = document.documentElement.scrollTop;
    } else if (document.body) {
      scrollPos = document.body.scrollTop;
    }
    return scrollPos;
  }
  // 使用 requestAnimationFrame 处理滚动事件
  // `volantis.scroll.del` 中存储了一个数值, 该数值检测一定时间间隔内滚动条滚动的位移, 数值的检测频率是浏览器的刷新频率. 数值为正数时, 表示向下滚动. 数值为负数时, 表示向上滚动.
  volantis.scroll.handleScrollEvents = () => {
    volantis.scroll.lastScrollTop = volantis.scroll.getScrollTop()
    function loop() {
      const scrollTop = volantis.scroll.getScrollTop();
      if (volantis.scroll.lastScrollTop !== scrollTop) {
        volantis.scroll.del = scrollTop - volantis.scroll.lastScrollTop;
        volantis.scroll.lastScrollTop = scrollTop;
        // if (volantis.scroll.del > 0) {
        //   console.log("向下滚动");
        // } else {
        //   console.log("向上滚动");
        // }
        // 注销过期的unengine未滚动事件
        volantis.scroll.unengine.list=[]
        volantis.scroll.engine.start();
      }else{
        volantis.scroll.unengine.start();
      }
      volantis.requestAnimationFrame(loop)
    }
    volantis.requestAnimationFrame(loop)
  }
  volantis.scroll.handleScrollEvents()
  volantis.scroll.ele = null;
  // 触发页面滚动至目标元素位置
  volantis.scroll.to = (ele, option = {}) => {
    if (!ele) return;
    volantis.scroll.ele = ele;
    // 默认配置
    opt = {
      top: ele.getBoundingClientRect().top + document.documentElement.scrollTop,
      behavior: "smooth"
    }
    // 定义配置
    if ("top" in option) {
      opt.top = option.top
    }
    if ("behavior" in option) {
      opt.behavior = option.behavior
    }
    if ("addTop" in option) {
      opt.top += option.addTop
    }
    if (!("observerDic" in option)) {
      option.observerDic = 100
    }
    // 滚动
    window.scrollTo(opt);
    // 监视器
    // 监视并矫正元素滚动到指定位置
    // 用于处理 lazyload 引起的 cls 导致的定位失败问题
    // option.observer = false
    if (option.observer) {
      setTimeout(() => {
        if (volantis.scroll.ele != ele) {
          return
        }
        volantis.scroll.unengine.push(() => {
          let me = ele.getBoundingClientRect().top
          if(!(me >= -option.observerDic && me <= option.observerDic)){
            volantis.scroll.to(ele, option)
          }
          volantis.scroll.unengine.remove("unengineObserver")
        },"unengineObserver")
      },1000)
    }
  }
  /********************** Content Visibility ********************************/
  // 见 source/css/first.styl 如果遇到任何问题 删除 .post-story 即可
  // 一个元素被声明 content-visibility 属性后 如果元素不在 viewport 中 浏览器不会计算其后代元素样式和属性 从而节省 Style & Layout 耗时
  // content-visibility 的副作用: 锚点失效 等等(实验初期 暂不明确), 使用此方法清除样式
  volantis.cleanContentVisibility = ()=>{
    if (document.querySelector(".post-story")) {
      console.log("cleanContentVisibility");
      document.querySelectorAll(".post-story").forEach(e=>{
        e.classList.remove("post-story")
      })
    }
  }
  /******************************************************************************/
  /******************************************************************************/
  /******************************************************************************/
  //图像加载出错时的处理
  function errorImgAvatar(img) {
    img.src = "https://unpkg.com/volantis-static@0.0.1654736714924/media/placeholder/avatar/round/3442075.svg";
    img.onerror = null;
  }
  function errorImgCover(img) {
    img.src = "https://unpkg.com/volantis-static@0.0.1654736714924/media/placeholder/cover/76b86c0226ffd.svg";
    img.onerror = null;
  }
  /******************************************************************************/
</script>

  <!-- import head_end begin -->
  <!-- import head_end end -->
  <!-- Custom Files headEnd begin-->
  
  <!-- Custom Files headEnd end-->
  <!-- front-matter head_end begin -->
  <!-- front-matter head_end end -->
</head>
  <body itemscope itemtype="http://schema.org/WebPage">
    <!-- import body_begin begin-->
    <!-- import body_begin end-->
    <!-- Custom Files bodyBegin begin-->
    <!-- 动态副标题设置 -->
<script defer src="./Custom/Custom JS/Dynamic-Subtitle.js"></script>

<!-- 动态标题 -->
<script src="./Custom/Custom JS/Dynamic-Title.js"></script>
    <!-- Custom Files bodyBegin end-->
    <!-- front-matter body_begin begin -->
    <!-- front-matter body_begin end -->
    <header itemscope itemtype="http://schema.org/WPHeader" id="l_header" class="l_header auto shadow floatable blur show" style='opacity: 0' >
  <div class='container'>
  <div id='wrapper'>
    <div class='nav-sub'>
      <p class="title"></p>
      <ul class='switcher nav-list-h m-phone' id="pjax-header-nav-list">
        <li><a id="s-comment" class="fa-solid fa-comments fa-fw" target="_self"  href="/" onclick="return false;" title="comment"></a></li>
        
          <li><a id="s-toc" class="s-toc fa-solid fa-list fa-fw" target="_self"  href="/" onclick="return false;" title="toc"></a></li>
        
      </ul>
    </div>
		<div class="nav-main">
      
        
        <a class="title flat-box" target="_self" href='/'>
          
            <!-- <img no-lazy class='logo' src='/imag/头像.jpg'/> -->
            <img id="navlogo" no-lazy class='logo' src='/imag/头像.jpg'/>
          
          
          
        </a>
      

			<div class='menu navigation'>
				<ul class='nav-list-h m-pc'>
          
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/" title="博客"
                  
                  
                  
                    active-action="action-home"
                  >
                  <i class='fa-solid fa-rss fa-fw'></i>博客
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/categories/" title="分类"
                  
                  
                  
                    active-action="action-categories"
                  >
                  <i class='fa-solid fa-folder-open fa-fw'></i>分类
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/tags/" title="标签"
                  
                  
                  
                    active-action="action-tags"
                  >
                  <i class='fa-solid fa-tags fa-fw'></i>标签
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/archives/" title="归档"
                  
                  
                  
                    active-action="action-archives"
                  >
                  <i class='fa-solid fa-archive fa-fw'></i>归档
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/friends/" title="友链"
                  
                  
                  
                    active-action="action-friends"
                  >
                  <i class='fa-solid fa-link fa-fw'></i>友链
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/about/" title="关于"
                  
                  
                  
                    active-action="action-about"
                  >
                  <i class='fa-solid fa-info-circle fa-fw'></i>关于
                </a>
                
              </li>
            
          
          
				</ul>
			</div>
      
      <div class="m_search">
        <form name="searchform" class="form u-search-form">
          <i class="icon fa-solid fa-search fa-fw"></i>
          <input type="text" class="input u-search-input" placeholder="Search..." />
        </form>
      </div>
      

			<ul class='switcher nav-list-h m-phone'>
				
					<li><a class="s-search fa-solid fa-search fa-fw" target="_self" href="/" onclick="return false;" title="search"></a></li>
				
				<li>
          <a class="s-menu fa-solid fa-bars fa-fw" target="_self" href="/" onclick="return false;" title="menu"></a>
          <ul class="menu-phone list-v navigation white-box">
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/" title="博客"
                  
                  
                  
                    active-action="action-home"
                  >
                  <i class='fa-solid fa-rss fa-fw'></i>博客
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/categories/" title="分类"
                  
                  
                  
                    active-action="action-categories"
                  >
                  <i class='fa-solid fa-folder-open fa-fw'></i>分类
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/tags/" title="标签"
                  
                  
                  
                    active-action="action-tags"
                  >
                  <i class='fa-solid fa-tags fa-fw'></i>标签
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/archives/" title="归档"
                  
                  
                  
                    active-action="action-archives"
                  >
                  <i class='fa-solid fa-archive fa-fw'></i>归档
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/friends/" title="友链"
                  
                  
                  
                    active-action="action-friends"
                  >
                  <i class='fa-solid fa-link fa-fw'></i>友链
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/about/" title="关于"
                  
                  
                  
                    active-action="action-about"
                  >
                  <i class='fa-solid fa-info-circle fa-fw'></i>关于
                </a>
                
              </li>
            
          
            
          </ul>
        </li>
			</ul>

      <!-- Custom Files header begin -->
      
      <!-- Custom Files header end -->
		</div>
	</div>
  </div>
</header>

    <div id="l_body">
      <div id="l_cover">
  
    
      <!-- see: /layout/_partial/scripts/_ctrl/coverCtrl.ejs -->
      <div id="none" class='cover-wrapper post dock' style="display: none;">
        
  <div id="parallax-window"></div>

<div class='cover-body'>
  <div class='top'>
    
    
      <p class="title">夜猫君</p>
    
    
      <p class="subtitle"><div id="binft"></div></p>
    
  </div>
  <div class='bottom'>
    <div class='menu navigation'>
      <div class='list-h'>
        
          
            <a href="/v4/getting-started/"
              
              
              active-action="action-v4getting-started">
              <img src='https://unpkg.com/volantis-static@0.0.1654736714924/media/twemoji/assets/svg/1f5c3.svg'><p>文档</p>
            </a>
          
            <a href="/faqs/"
              
              
              active-action="action-faqs">
              <img src='https://unpkg.com/volantis-static@0.0.1654736714924/media/twemoji/assets/svg/1f516.svg'><p>帮助</p>
            </a>
          
            <a href="/archives/"
              
              
              active-action="action-archives">
              <img src='https://unpkg.com/volantis-static@0.0.1654736714924/media/twemoji/assets/svg/1f4f0.svg'><p>博客</p>
            </a>
          
        
      </div>
    </div>
  </div>
</div>

        <div id="scroll-down" style="display: none;"><i class="fa fa-chevron-down scroll-down-effects"></i></div>
      </div>
    
  
</div>

      <div id="safearea">
        <div class="body-wrapper">
          
<div id="l_main" class=''>
  <article itemscope itemtype="http://schema.org/Article" class="article post white-box reveal md shadow floatable blur article-type-post" id="post" itemscope itemprop="blogPost">
  <link itemprop="mainEntityOfPage" href="https://www.yemaojun.top/2023/10/31/ABAP/GUI_UPLOAD & GUI_DOWNLOAD/GUI-UPLOAD-GUI-DOWNLOAD-使用示例与解释/">
  <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="夜猫君">
  </span>
  <span hidden itemprop="post" itemscope itemtype="http://schema.org/Post">
    <meta itemprop="name" content="夜猫君">
    <meta itemprop="description" content="夜猫君">
  </span>
  


  
    <span hidden>
      <meta itemprop="image" content="https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/blog/favicon/android-chrome-192x192.png">
    </span>
  
  <div class="article-meta" id="top">
    
    
    
      <h1 class="title" itemprop="name headline">
        GUI_UPLOAD & GUI_DOWNLOAD 使用示例与解释
      </h1>
      <div class='new-meta-box'>
        
          
            
<div class='new-meta-item author' itemprop="author" itemscope itemtype="http://schema.org/Person">
  <a itemprop="url" class='author' href="/" rel="nofollow">
    <img itemprop="image" src="https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/blog/favicon/apple-touch-icon.png" class="lazyload" data-srcset="https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/blog/favicon/apple-touch-icon.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==">
    <p itemprop="name">夜猫君</p>
  </a>
</div>

          
        
          
            
  <div class='new-meta-item category'>
    <i class="fa-solid fa-folder-open fa-fw" aria-hidden="true"></i>
    <a class="category-link" href="/categories/ABAP/">ABAP</a><span class="sep"></span><a class="category-link" href="/categories/%E6%9D%82%E9%A1%B9%E6%94%B6%E5%BD%95/">杂项收录</a>
    
      <span hidden itemprop="about" itemscope itemtype="http://schema.org/Thing">
        <a href="/categories/ABAP/" itemprop="url"><span itemprop="name">ABAP</span></a>
      </span>
    
      <span hidden itemprop="about" itemscope itemtype="http://schema.org/Thing">
        <a href="/categories/%E6%9D%82%E9%A1%B9%E6%94%B6%E5%BD%95/" itemprop="url"><span itemprop="name">杂项收录</span></a>
      </span>
    
  </div>


          
        
          
            <div class="new-meta-item date" itemprop="dateCreated datePublished" datetime="2023-10-31T11:31:45+08:00">
  <a class='notlink'>
    <i class="fa-solid fa-calendar-alt fa-fw" aria-hidden="true"></i>
    <p>发布于：2023年10月31日</p>
  </a>
</div>

          
        
          
            


<div class="new-meta-item browse">
  <a class='notlink'>
    <p>
      <i class="fa-solid fa-eye fa-fw" aria-hidden="true"></i>
      
      <span id="busuanzi_value_page_pv"><i class="fa-solid fa-loader fa-spin fa-fw" aria-hidden="true"></i></span>
      
      <span>次浏览</span>
    </p>
  </a>
</div>


          
        
        <!-- Custom Files topMeta begin-->
        
        <!-- Custom Files topMeta end-->
      </div>
    
  </div>


  <div id="layoutHelper-page-plugins"></div>
  <div id="post-body" itemprop="articleBody">
    <p>这两天需要开发一个通过接口传输文件的需求。其中需要将文件转换为二进制流的形式传输文件，将上传和接收到的文件转换位二进制流文件就是通过Function GUI_UPLOAD和Function GUI_DOWNLOAD来实现的，但是文件中的字符有中文，英文或其他特殊字符等情况存在，贸然使用上面的Function会出现乱码等问题。所以本片笔记会针对上面的问题进行解释并提出解决方案。</p>
<span id="more"></span>

<center><h1>GUI_UPLOAD & GUI_DOWNLOAD 使用示例与解释</h1></center>

<h2 id="一、GUI-UPLOAD-amp-GUI-DOWNLOAD"><a href="#一、GUI-UPLOAD-amp-GUI-DOWNLOAD" class="headerlink" title="一、GUI_UPLOAD &amp; GUI_DOWNLOAD"></a>一、GUI_UPLOAD &amp; GUI_DOWNLOAD</h2><h3 id="1-方法简介"><a href="#1-方法简介" class="headerlink" title="1.方法简介"></a>1.方法简介</h3><p>将<strong>本地文件上传到SAP内存</strong>中时可以使用<strong>Function GUI_UPLOAD</strong>。使用该Function可以上传多种类型的文件，不会限制文件的类型。</p>
<p>与上面的GUI_UPLOAD类似，在<strong>下载文件时</strong>，可以使用<strong>Function GUI_DOWNLOAD</strong>。</p>
<h3 id="2-参数介绍"><a href="#2-参数介绍" class="headerlink" title="2.参数介绍"></a>2.参数介绍</h3><h4 id="（1）输入参数-FILETYPE"><a href="#（1）输入参数-FILETYPE" class="headerlink" title="（1）输入参数 FILETYPE"></a>（1）输入参数 FILETYPE</h4><p>如上面输入参数介绍的。此处填写的文件类型并非是指上传的文件类型，而是上传文件的处理类型。在此处介绍一下可以填入的三种类型值的含义。</p>
<h5 id="①-ASC"><a href="#①-ASC" class="headerlink" title="① ASC"></a>① ASC</h5><p>The components of the internal table are filled from the file. Only data types with fixed length are allowed. The data must be contained in the file in its full length. </p>
<p>内部表格的组成部分由该文件填充。只允许使用固定长度的数据类型。数据必须以其完整长度包含在文件中。</p>
<p>此处的意思是指<strong>将文件中的内容读取到内表中</strong>，但是该内表的类型必须为<strong>固定长度类型的结构</strong>，且该结构的长度必须可以包含读取的内容的。</p>
<h5 id="②-BIN"><a href="#②-BIN" class="headerlink" title="② BIN"></a>② BIN</h5><p>The system reads a binary representation of the internal table from the  file. The data is neither converted nor interpreted in this case. Usually, reasonable results are obtained only if the internal table consists of a single column of type ‘X’.</p>
<p>系统从文件中读取内部表的二进制表示形式。在这种情况下，既不转换数据，也不解释数据。通常，只有当内部表由“X”类型的单列组成时，才能获得合理的结果。</p>
<p>也就是说文件是通过二进制的文件流形式使用的，一般在传输文件时会使用这种类型的参数。且使用这种二进制类型参数接受文件时，<strong>内表的类型必须是XSTRING或RAW类型的内表</strong>。此处放一个我比较常用的标准二进制类型的内表 <strong>W3MIMETABTYPE</strong>。</p>
<h5 id="③-DAT"><a href="#③-DAT" class="headerlink" title="③ DAT"></a>③ DAT</h5><p>The components of the internal table are filled from the file. If the table contains several columns, the entries in the file must be separated by tabs. No conversion exits are performed. </p>
<p>The following applies for the different data types: </p>
<ul>
<li><p>I or N or P or F</p>
<ul>
<li>The numbers must be formatted according to the decimal representation defined in the user settings.</li>
</ul>
</li>
<li><p>D</p>
<ul>
<li>The date must be formatted according to the date format defined in the user settings.</li>
</ul>
</li>
<li><p>T</p>
<ul>
<li>The time must be formatted as hh:mm:ss.</li>
</ul>
</li>
</ul>
<p>内部表格的组成部分由该文件填充。如果表包含多个列，则文件中的条目必须用制表符分隔。不执行转换退出。</p>
<p>以下适用于不同的数据类型：</p>
<ul>
<li><p>I或N或P或F</p>
<ul>
<li>数字必须根据用户设置中定义的十进制表示形式进行格式化。</li>
</ul>
</li>
<li><p>D</p>
<ul>
<li>日期必须根据用户设置中定义的日期格式进行格式化。</li>
</ul>
</li>
<li><p>T</p>
<ul>
<li>时间的格式必须为hh:mm:ss。</li>
</ul>
</li>
</ul>
<h4 id="（2）输入参数-CODEPAGE"><a href="#（2）输入参数-CODEPAGE" class="headerlink" title="（2）输入参数 CODEPAGE"></a>（2）输入参数 CODEPAGE</h4><p>SAP 输入参数的描述：输出的字符表示。我的理解是上传文件时，对文件中字符处理的编码方式。当输出文件时便是输出文件的字符集。</p>
<p>CODEPAGE是NUMC类型4位长度的参数。在国内比较常用的几种类型如下：</p>
<ul>
<li><p><strong>8400&#x2F;8404</strong> 代表“GBK”<strong>中文简体</strong></p>
</li>
<li><p><strong>8300&#x2F;8304</strong> (big5)代表<strong>台湾的中文繁体</strong></p>
</li>
<li><p><strong>8340&#x2F;8344</strong> (Big5-HKSCS)代表<strong>香港的中文繁体</strong>，在媒体转换程序下载成TXT格式且不使用任何格式符，只是靠定义的字段长度时限制，用这种Codepage较好。</p>
</li>
<li><p><strong>4110&#x2F;4310</strong> 为<strong>utf-8</strong>。<strong>Unicode为4103</strong>使用时需要将<strong>WRITE_BOM＝’X’</strong>（写入Unicode字节顺序标记）。</p>
<p>如果要<strong>查看字符集的数据</strong>可以去 <strong>TCP00A</strong>表查看。举两个例子。例如UTF字符集内容：</p>
<img src="/2023/10/31/ABAP/GUI_UPLOAD%20&%20GUI_DOWNLOAD/GUI-UPLOAD-GUI-DOWNLOAD-%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B%E4%B8%8E%E8%A7%A3%E9%87%8A/1.UTF字符集数据结果.png" class="lazyload" data-srcset="/2023/10/31/ABAP/GUI_UPLOAD%20&%20GUI_DOWNLOAD/GUI-UPLOAD-GUI-DOWNLOAD-%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B%E4%B8%8E%E8%A7%A3%E9%87%8A/1.UTF字符集数据结果.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="1.UTF字符集数据结果"></li>
</ul>
<p>其中属性类型如下所示：</p>
<img src="/2023/10/31/ABAP/GUI_UPLOAD%20&%20GUI_DOWNLOAD/GUI-UPLOAD-GUI-DOWNLOAD-%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B%E4%B8%8E%E8%A7%A3%E9%87%8A/2.UTF字符集属性类型列表.png" class="lazyload" data-srcset="/2023/10/31/ABAP/GUI_UPLOAD%20&%20GUI_DOWNLOAD/GUI-UPLOAD-GUI-DOWNLOAD-%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B%E4%B8%8E%E8%A7%A3%E9%87%8A/2.UTF字符集属性类型列表.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="2.UTF字符集属性类型列表">

<p>也可以使用<strong>Function NLS_GET_FRONTEND_CP</strong>根据语言代码查找对应的字符4位编码。</p>
<img src="/2023/10/31/ABAP/GUI_UPLOAD%20&%20GUI_DOWNLOAD/GUI-UPLOAD-GUI-DOWNLOAD-%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B%E4%B8%8E%E8%A7%A3%E9%87%8A/3.根据语言代码查找CodePage.png" class="lazyload" data-srcset="/2023/10/31/ABAP/GUI_UPLOAD%20&%20GUI_DOWNLOAD/GUI-UPLOAD-GUI-DOWNLOAD-%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B%E4%B8%8E%E8%A7%A3%E9%87%8A/3.根据语言代码查找CodePage.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="3.根据语言代码查找CodePage">

<p>如果你能一开始就和用户约定好可以将文件的编码格式告知你，则你可以通过<strong>Function SCP_CODEPAGE_BY_EXTERNAL_NAME</strong>根据编码方式获取Codepage。</p>
<img src="/2023/10/31/ABAP/GUI_UPLOAD%20&%20GUI_DOWNLOAD/GUI-UPLOAD-GUI-DOWNLOAD-%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B%E4%B8%8E%E8%A7%A3%E9%87%8A/4.根据文件编码格式获取Codepage.png" class="lazyload" data-srcset="/2023/10/31/ABAP/GUI_UPLOAD%20&%20GUI_DOWNLOAD/GUI-UPLOAD-GUI-DOWNLOAD-%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B%E4%B8%8E%E8%A7%A3%E9%87%8A/4.根据文件编码格式获取Codepage.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="4.根据文件编码格式获取Codepage">

<h4 id="（3）GUI-UPLOAD参数介绍"><a href="#（3）GUI-UPLOAD参数介绍" class="headerlink" title="（3）GUI_UPLOAD参数介绍"></a>（3）GUI_UPLOAD参数介绍</h4><h5 id="①-输入参数"><a href="#①-输入参数" class="headerlink" title="① 输入参数"></a>① 输入参数</h5><table>
<thead>
<tr>
<th align="center">参数名</th>
<th align="center">类型</th>
<th align="center">缺省值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">FILENAME</td>
<td align="center">STRING</td>
<td align="center"></td>
<td>文件地址，虽然参数翻译为文件名称，但传入的其实是文件地址</td>
</tr>
<tr>
<td align="center">FILETYPE</td>
<td align="center">CHAR10</td>
<td align="center">‘ASC’</td>
<td>此处填写的文件类型并非是指上传的文件类型，而是上传文件的处理类型，可填入的值有三种。ASC（默认）、BIN和DAT。</td>
</tr>
<tr>
<td align="center">HAS_FIELD_SEPARATOR</td>
<td align="center">CHAR01</td>
<td align="center">SPACE</td>
<td>上传时，使用ASCII制表符分割列。</td>
</tr>
<tr>
<td align="center">HEADER_LENGTH</td>
<td align="center">I</td>
<td align="center">0</td>
<td>二进制数据的头长度</td>
</tr>
<tr>
<td align="center">READ_BY_LINE</td>
<td align="center">CHAR01</td>
<td align="center">‘X’</td>
<td>逐行将文件内容读进内表中</td>
</tr>
<tr>
<td align="center">DAT_MODE</td>
<td align="center">CHAR01</td>
<td align="center">SPACE</td>
<td>以ws_download“DAT”格式导入的数字和日期字段</td>
</tr>
<tr>
<td align="center">CODEPAGE</td>
<td align="center">ABAP_ENCODING</td>
<td align="center">SPACE</td>
<td>输出的字符表示</td>
</tr>
<tr>
<td align="center">IGNORE_CERR</td>
<td align="center">ABAP_BOOL</td>
<td align="center">ABAP_TRUE</td>
<td>指定是否忽略转换字符集的错误</td>
</tr>
<tr>
<td align="center">REPLACEMENT</td>
<td align="center">ABAP_REPL</td>
<td align="center">‘#’</td>
<td>不可转换字符的替换字符，存在无法转换的字符时会使用传入的内容进行替换</td>
</tr>
<tr>
<td align="center">CHECK_BOM</td>
<td align="center">CHAR01</td>
<td align="center">SPACE</td>
<td>将检查代码页和字节顺序标记的一致性</td>
</tr>
<tr>
<td align="center">VIRUS_SCAN_PROFILE</td>
<td align="center">VSCAN_PROFILE</td>
<td align="center"></td>
<td>病毒扫描配置文件</td>
</tr>
<tr>
<td align="center">NO_AUTH_CHECK</td>
<td align="center">CHAR01</td>
<td align="center">SPACE</td>
<td>关闭访问权限检查</td>
</tr>
</tbody></table>
<h5 id="②-输出参数"><a href="#②-输出参数" class="headerlink" title="② 输出参数"></a>② 输出参数</h5><table>
<thead>
<tr>
<th align="center">参数名</th>
<th align="center">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">FILELENGTH</td>
<td align="center">I</td>
<td>上传的文件大小</td>
</tr>
<tr>
<td align="center">HEADER</td>
<td align="center">XSTRING</td>
<td>二进制上传情况下的文件头</td>
</tr>
</tbody></table>
<h4 id="（4）GUI-DOWNLOAD-参数介绍"><a href="#（4）GUI-DOWNLOAD-参数介绍" class="headerlink" title="（4）GUI_DOWNLOAD 参数介绍"></a>（4）GUI_DOWNLOAD 参数介绍</h4><h5 id="①-输入参数-1"><a href="#①-输入参数-1" class="headerlink" title="① 输入参数"></a>① 输入参数</h5><table>
<thead>
<tr>
<th align="center">参数名</th>
<th align="center">类型</th>
<th align="center">缺省值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">BIN_FILESIZE</td>
<td align="center">I</td>
<td align="center"></td>
<td>二进制文件的文件长度</td>
</tr>
<tr>
<td align="center">FILENAME</td>
<td align="center">STRING</td>
<td align="center"></td>
<td>文件名称（下载地址）</td>
</tr>
<tr>
<td align="center">FILETYPE</td>
<td align="center">CHAR10</td>
<td align="center">‘ASC’</td>
<td>文件类型（ASC or BIN）</td>
</tr>
<tr>
<td align="center">APPEND</td>
<td align="center">CHAR01</td>
<td align="center">SPACE</td>
<td>写入模式（覆盖、追加）</td>
</tr>
<tr>
<td align="center">WRITE_FIELD_SEPARATOR</td>
<td align="center">CHAR01</td>
<td align="center">SPACE</td>
<td>ASCII下载时用制表符分隔列</td>
</tr>
<tr>
<td align="center">HEADER</td>
<td align="center">XSTRING</td>
<td align="center">‘00’</td>
<td>在文件开头以二进制模式写入的字节链</td>
</tr>
<tr>
<td align="center">TRUNC_TRAILING_BLANKS</td>
<td align="center">CHAR01</td>
<td align="center">SPACE</td>
<td>保留末尾空格</td>
</tr>
<tr>
<td align="center">WRITE_LF</td>
<td align="center">CHAR01</td>
<td align="center">‘X’</td>
<td>在每行的末尾插入一个行分隔符</td>
</tr>
<tr>
<td align="center">COL_SELECT</td>
<td align="center">CHAR01</td>
<td align="center">SPACE</td>
<td>激活列选择。您可以使用列选择来选择要传输到文件的列。此参数仅适用于FILETYPE“DAT”和“DBF”。</td>
</tr>
<tr>
<td align="center">COL_SELECT_MASK</td>
<td align="center">CHAR255</td>
<td align="center">SPACE</td>
<td>结合COL_SELECT，可以进行列选择。</td>
</tr>
<tr>
<td align="center">DAT_MODE</td>
<td align="center">CHAR01</td>
<td align="center">SPACE</td>
<td>以ws_download“DAT”格式编写的数字和日期字段</td>
</tr>
<tr>
<td align="center">CONFIRM_OVERWRITE</td>
<td align="center">CHAR01</td>
<td align="center">SPACE</td>
<td>仅在确认后覆盖文件</td>
</tr>
<tr>
<td align="center">NO_AUTH_CHECK</td>
<td align="center">CHAR01</td>
<td align="center">SPACE</td>
<td>关闭访问权限检查</td>
</tr>
<tr>
<td align="center">CODEPAGE</td>
<td align="center">ABAP_ENCODING</td>
<td align="center">SPACE</td>
<td>输出的字符编码格式</td>
</tr>
<tr>
<td align="center">IGNORE_CERR</td>
<td align="center">ABAP_BOOL</td>
<td align="center">ABAP_TRUE</td>
<td>指定是否忽略转换字符集的错误</td>
</tr>
<tr>
<td align="center">REPLACEMENT</td>
<td align="center">ABAP_REPL</td>
<td align="center">‘#’</td>
<td>不可转换字符的替换字符</td>
</tr>
<tr>
<td align="center">WRITE_BOM</td>
<td align="center">ABAP_BOOL</td>
<td align="center">SPACE</td>
<td>写入Unicode字节顺序标记</td>
</tr>
<tr>
<td align="center">TRUNC_TRAILING_BLANKS_EOL</td>
<td align="center">CHAR01</td>
<td align="center">‘X’</td>
<td>删除最后一列末尾的空格</td>
</tr>
<tr>
<td align="center">WK1_N_FORMAT</td>
<td align="center"></td>
<td align="center">SPACE</td>
<td>WK1类型文件中值列的格式</td>
</tr>
<tr>
<td align="center">WK1_N_SIZE</td>
<td align="center"></td>
<td align="center">SPACE</td>
<td>WK1类型文件中值列的列宽</td>
</tr>
<tr>
<td align="center">WRITE_LF_AFTER_LAST_LINE</td>
<td align="center">ABAP_BOOL</td>
<td align="center">ABAP_TRUE</td>
<td>在最后一行之后写入行分隔符</td>
</tr>
<tr>
<td align="center">SHOW_TRANSFER_STATUS</td>
<td align="center">ABAP_BOOL</td>
<td align="center">ABAP_TRUE</td>
<td></td>
</tr>
<tr>
<td align="center">VIRUS_SCAN_PROFILE</td>
<td align="center">VSCAN_PROFILE</td>
<td align="center">‘&#x2F;SCET&#x2F;GUI_DOWNLOAD’</td>
<td>病毒扫描配置文件</td>
</tr>
</tbody></table>
<h5 id="②-输出参数-1"><a href="#②-输出参数-1" class="headerlink" title="② 输出参数"></a>② 输出参数</h5><table>
<thead>
<tr>
<th align="center">参数名</th>
<th align="center">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">FILELENGTH</td>
<td align="center">I</td>
<td>传输的字节数</td>
</tr>
</tbody></table>
<h2 id="二、GUI-UPLOAD上传示例"><a href="#二、GUI-UPLOAD上传示例" class="headerlink" title="二、GUI_UPLOAD上传示例"></a>二、GUI_UPLOAD上传示例</h2><h3 id="1-执行效果"><a href="#1-执行效果" class="headerlink" title="1.执行效果"></a>1.执行效果</h3><h4 id="（1）选择屏幕"><a href="#（1）选择屏幕" class="headerlink" title="（1）选择屏幕"></a>（1）选择屏幕</h4><img src="/2023/10/31/ABAP/GUI_UPLOAD%20&%20GUI_DOWNLOAD/GUI-UPLOAD-GUI-DOWNLOAD-%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B%E4%B8%8E%E8%A7%A3%E9%87%8A/5.GUI_UPLOAD示例程序 选择画面.png" class="lazyload" data-srcset="/2023/10/31/ABAP/GUI_UPLOAD%20&%20GUI_DOWNLOAD/GUI-UPLOAD-GUI-DOWNLOAD-%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B%E4%B8%8E%E8%A7%A3%E9%87%8A/5.GUI_UPLOAD示例程序 选择画面.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="5.GUI_UPLOAD示例程序 选择画面">

<h4 id="（2）ASC类型展示TXT文档"><a href="#（2）ASC类型展示TXT文档" class="headerlink" title="（2）ASC类型展示TXT文档"></a>（2）ASC类型展示TXT文档</h4><img src="/2023/10/31/ABAP/GUI_UPLOAD%20&%20GUI_DOWNLOAD/GUI-UPLOAD-GUI-DOWNLOAD-%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B%E4%B8%8E%E8%A7%A3%E9%87%8A/6.GUI_UPLOAD ASC展示程序.png" class="lazyload" data-srcset="/2023/10/31/ABAP/GUI_UPLOAD%20&%20GUI_DOWNLOAD/GUI-UPLOAD-GUI-DOWNLOAD-%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B%E4%B8%8E%E8%A7%A3%E9%87%8A/6.GUI_UPLOAD ASC展示程序.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="6.GUI_UPLOAD ASC展示程序">

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">*--------------------------Variables-----------------------------------*</span><br><span class="line">  FIELD-SYMBOLS:</span><br><span class="line">    &lt;FLT_TABLE&gt;     TYPE STANDARD TABLE.</span><br><span class="line">*----------------------------Logic-------------------------------------*</span><br><span class="line">  IF GT_TABLE IS INITIAL AND GT_DTEXT IS INITIAL.</span><br><span class="line">    &quot;展示数据为空</span><br><span class="line">    MESSAGE TEXT-E01 TYPE GC_S DISPLAY LIKE GC_E.</span><br><span class="line">    LEAVE LIST-PROCESSING.</span><br><span class="line">  ENDIF.</span><br><span class="line"></span><br><span class="line">  CASE GC_X.</span><br><span class="line">    WHEN P_DISPL.</span><br><span class="line">      ASSIGN GT_TABLE TO &lt;FLT_TABLE&gt;.</span><br><span class="line">    WHEN P_DTEXT.</span><br><span class="line">      ASSIGN GT_DTEXT TO &lt;FLT_TABLE&gt;.</span><br><span class="line">    WHEN OTHERS.</span><br><span class="line">  ENDCASE.</span><br><span class="line">  CHECK SY-SUBRC EQ 0.</span><br><span class="line"></span><br><span class="line">  &quot;数据展示界面设置</span><br><span class="line">  CL_DEMO_OUTPUT=&gt;NEW(</span><br><span class="line">    )-&gt;BEGIN_SECTION( `Upload File Information`</span><br><span class="line">    )-&gt;NEXT_SECTION( `Upload File Path`</span><br><span class="line">    )-&gt;WRITE_DATA( P_FPATH</span><br><span class="line">    )-&gt;NEXT_SECTION( `File Data`</span><br><span class="line">    )-&gt;WRITE_DATA( &lt;FLT_TABLE&gt;</span><br><span class="line">    )-&gt;END_SECTION(</span><br><span class="line">    )-&gt;DISPLAY( ).</span><br></pre></td></tr></table></figure>

<h4 id="（3）DAT类型分列展示TXT文档"><a href="#（3）DAT类型分列展示TXT文档" class="headerlink" title="（3）DAT类型分列展示TXT文档"></a>（3）DAT类型分列展示TXT文档</h4><img src="/2023/10/31/ABAP/GUI_UPLOAD%20&%20GUI_DOWNLOAD/GUI-UPLOAD-GUI-DOWNLOAD-%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B%E4%B8%8E%E8%A7%A3%E9%87%8A/8.GUI_UPLOAD DAT 展示分列文本 结果展示.png" class="lazyload" data-srcset="/2023/10/31/ABAP/GUI_UPLOAD%20&%20GUI_DOWNLOAD/GUI-UPLOAD-GUI-DOWNLOAD-%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B%E4%B8%8E%E8%A7%A3%E9%87%8A/8.GUI_UPLOAD DAT 展示分列文本 结果展示.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="8.GUI_UPLOAD DAT 展示分列文本 结果展示">

<p>代码与上面的代码逻辑相同，两者共用了同一段逻辑，只是接收数据的类型与展示用的内表结构不一样。</p>
<h4 id="（4）BIN类型展示PDF文档"><a href="#（4）BIN类型展示PDF文档" class="headerlink" title="（4）BIN类型展示PDF文档"></a>（4）BIN类型展示PDF文档</h4><img src="/2023/10/31/ABAP/GUI_UPLOAD%20&%20GUI_DOWNLOAD/GUI-UPLOAD-GUI-DOWNLOAD-%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B%E4%B8%8E%E8%A7%A3%E9%87%8A/11.GUI_UPLOAD BIN 展示PDF文件内容 结果画面.png" class="lazyload" data-srcset="/2023/10/31/ABAP/GUI_UPLOAD%20&%20GUI_DOWNLOAD/GUI-UPLOAD-GUI-DOWNLOAD-%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B%E4%B8%8E%E8%A7%A3%E9%87%8A/11.GUI_UPLOAD BIN 展示PDF文件内容 结果画面.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="11.GUI_UPLOAD BIN 展示PDF文件内容 结果画面">

<p>此处是使用了一个自适应容器和LOAD_DATA Function实现的。后期会单独出一篇笔记记录。</p>
<h3 id="2-示例源代码"><a href="#2-示例源代码" class="headerlink" title="2.示例源代码"></a>2.示例源代码</h3><h4 id="（1）Include-TOP-全局变量"><a href="#（1）Include-TOP-全局变量" class="headerlink" title="（1）Include TOP 全局变量"></a>（1）Include TOP 全局变量</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">*   Constants</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">CONSTANTS:</span><br><span class="line">  GC_X              TYPE C LENGTH 1  VALUE &#x27;X&#x27;,</span><br><span class="line">  GC_S              TYPE C LENGTH 1  VALUE &#x27;S&#x27;,</span><br><span class="line">  GC_E              TYPE C LENGTH 1  VALUE &#x27;E&#x27;,</span><br><span class="line">  GC_NULL           TYPE C LENGTH 1  VALUE &#x27;&#x27;.</span><br><span class="line"></span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">*   Variables</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">DATA:</span><br><span class="line">  GV_MESSAGE        TYPE C,</span><br><span class="line">  GV_FILETYPE       TYPE C LENGTH 100,</span><br><span class="line">  GV_SAVEOK         TYPE SY-UCOMM,</span><br><span class="line">  GV_OKCODE         TYPE SY-UCOMM.</span><br><span class="line"></span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">*   Structure</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">DATA:</span><br><span class="line">  BEGIN OF GS_TABLE,</span><br><span class="line">    VALUE           TYPE C LENGTH 100,</span><br><span class="line">  END   OF GS_TABLE,</span><br><span class="line">  BEGIN OF GS_DTEXT,</span><br><span class="line">    FILED1          TYPE C LENGTH 50,</span><br><span class="line">    FILED2          TYPE C LENGTH 50,</span><br><span class="line">    FILED3          TYPE C LENGTH 50,</span><br><span class="line">    FILED4          TYPE C LENGTH 50,</span><br><span class="line">    FILED5          TYPE C LENGTH 50,</span><br><span class="line">  END   OF GS_DTEXT,</span><br><span class="line">  GS_BINTAB         TYPE W3MIME.</span><br><span class="line"></span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">*   Internal Table</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">DATA:</span><br><span class="line">  GT_DTEXT          LIKE TABLE OF GS_DTEXT,</span><br><span class="line">  GT_TABLE          LIKE TABLE OF GS_TABLE,</span><br><span class="line">  GT_BINTAB         TYPE W3MIMETABTYPE.</span><br><span class="line"></span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">*    Object</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">DATA:</span><br><span class="line">  GO_CONTAINER      TYPE REF TO CL_GUI_DOCKING_CONTAINER,</span><br><span class="line">  GO_HTML_CONTROL   TYPE REF TO CL_GUI_HTML_VIEWER.</span><br></pre></td></tr></table></figure>

<h4 id="（2）Include-SCR-选择屏幕源码"><a href="#（2）Include-SCR-选择屏幕源码" class="headerlink" title="（2）Include SCR 选择屏幕源码"></a>（2）Include SCR 选择屏幕源码</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&quot;Selection Screen</span><br><span class="line">SELECTION-SCREEN BEGIN OF BLOCK K01 WITH FRAME TITLE TEXT-T01.</span><br><span class="line">PARAMETERS:</span><br><span class="line">  P_FPATH TYPE RLGRAP-FILENAME.   &quot;文件上传路径</span><br><span class="line"></span><br><span class="line">SELECTION-SCREEN BEGIN OF LINE.</span><br><span class="line">&quot;执行方式</span><br><span class="line">PARAMETERS:</span><br><span class="line">  P_TEXT NO-DISPLAY.</span><br><span class="line">SELECTION-SCREEN COMMENT 1(23) TEXT-T02 FOR FIELD P_TEXT.</span><br><span class="line"></span><br><span class="line">&quot;展示数据 ASC</span><br><span class="line">SELECTION-SCREEN POSITION 32.</span><br><span class="line">PARAMETERS:</span><br><span class="line">  P_DISPL RADIOBUTTON GROUP GR01 USER-COMMAND UC1 DEFAULT &#x27;X&#x27;.</span><br><span class="line">SELECTION-SCREEN COMMENT 35(15) TEXT-R01 FOR FIELD P_DISPL.</span><br><span class="line"></span><br><span class="line">&quot;展示文件内容(PDF) BIN</span><br><span class="line">SELECTION-SCREEN POSITION 50.</span><br><span class="line">PARAMETERS:</span><br><span class="line">  P_DDATA RADIOBUTTON GROUP GR01 .</span><br><span class="line">SELECTION-SCREEN COMMENT 52(15) TEXT-R02 FOR FIELD P_DDATA.</span><br><span class="line"></span><br><span class="line">&quot;分列Text文件 DAT</span><br><span class="line">SELECTION-SCREEN POSITION 75.</span><br><span class="line">PARAMETERS:</span><br><span class="line">  P_DTEXT RADIOBUTTON GROUP GR01 .</span><br><span class="line">SELECTION-SCREEN COMMENT 77(15) TEXT-R03 FOR FIELD P_DTEXT.</span><br><span class="line">SELECTION-SCREEN END OF LINE.</span><br><span class="line"></span><br><span class="line">SELECTION-SCREEN END OF BLOCK K01.</span><br></pre></td></tr></table></figure>

<h4 id="（3）Include-PBO-自定义屏幕初始逻辑"><a href="#（3）Include-PBO-自定义屏幕初始逻辑" class="headerlink" title="（3）Include PBO 自定义屏幕初始逻辑"></a>（3）Include PBO 自定义屏幕初始逻辑</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp; Module STATUS_0100 OUTPUT</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp;</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">MODULE STATUS_0100 OUTPUT.</span><br><span class="line">  SET PF-STATUS &#x27;G0100&#x27;.</span><br><span class="line">* SET TITLEBAR &#x27;xxx&#x27;.</span><br><span class="line">ENDMODULE.</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp; Module INITIAL_0100 OUTPUT</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp;</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">MODULE INITIAL_0100 OUTPUT.</span><br><span class="line">  PERFORM INITIAL_0100.</span><br><span class="line">ENDMODULE.</span><br></pre></td></tr></table></figure>

<h4 id="（4）Include-PAI-自定义屏幕功能逻辑"><a href="#（4）Include-PAI-自定义屏幕功能逻辑" class="headerlink" title="（4）Include PAI 自定义屏幕功能逻辑"></a>（4）Include PAI 自定义屏幕功能逻辑</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp;      Module  EXIT  INPUT</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*       text</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">MODULE EXIT INPUT.</span><br><span class="line">  PERFORM EXIT.</span><br><span class="line">ENDMODULE.</span><br></pre></td></tr></table></figure>

<h4 id="（5）Include-F01-程序逻辑"><a href="#（5）Include-F01-程序逻辑" class="headerlink" title="（5）Include F01 程序逻辑"></a>（5）Include F01 程序逻辑</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br></pre></td><td class="code"><pre><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp; Form SEARCH_HELP_FILEPATH</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp; text</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp;      &lt;-- P_FPATH</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">FORM SEARCH_HELP_FILEPATH CHANGING VALUE(PV_FILEPATH) TYPE RLGRAP-FILENAME.</span><br><span class="line">  CALL FUNCTION &#x27;F4_FILENAME&#x27;</span><br><span class="line">    EXPORTING</span><br><span class="line">      FIELD_NAME      = &#x27;C:\&#x27;</span><br><span class="line">    IMPORTING</span><br><span class="line">      FILE_NAME       = PV_FILEPATH.</span><br><span class="line">ENDFORM.</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp; Form GET_DATA</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp; text</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp; --&gt;  p1        text</span><br><span class="line">*&amp; &lt;--  p2        text</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">FORM GET_DATA .</span><br><span class="line">*--------------------------Variables-----------------------------------*</span><br><span class="line">  DATA:</span><br><span class="line">    LT_FILE         TYPE TABLE OF STRING,</span><br><span class="line">    LV_INDEX        TYPE SY-TABIX,</span><br><span class="line">    LV_CODEPAGE     TYPE ABAP_ENCODING,</span><br><span class="line">    LV_FILEPATH     TYPE STRING,</span><br><span class="line">    LV_FILETYPE     TYPE CHAR10,</span><br><span class="line">    LV_SPFLIFLAG    TYPE C.</span><br><span class="line">  FIELD-SYMBOLS:</span><br><span class="line">    &lt;FLT_TABLE&gt;     TYPE STANDARD TABLE.</span><br><span class="line">*----------------------------Logic-------------------------------------*</span><br><span class="line">  REFRESH: GT_TABLE,GT_BINTAB,GT_DTEXT.</span><br><span class="line"></span><br><span class="line">  &quot;获取文件类型</span><br><span class="line">  SPLIT P_FPATH AT &#x27;.&#x27; INTO TABLE LT_FILE.</span><br><span class="line">  LV_INDEX = LINES( LT_FILE ).</span><br><span class="line">  READ TABLE LT_FILE INTO GV_FILETYPE INDEX LV_INDEX.</span><br><span class="line"></span><br><span class="line">  CASE GC_X.</span><br><span class="line">    WHEN P_DISPL.</span><br><span class="line">      IF GV_FILETYPE NS &#x27;TXT&#x27;.</span><br><span class="line">        &quot;文件类型不是TXT，无法展示</span><br><span class="line">        MESSAGE TEXT-E03 TYPE GC_S DISPLAY LIKE GC_E.</span><br><span class="line">        LEAVE LIST-PROCESSING.</span><br><span class="line">      ENDIF.</span><br><span class="line">      LV_CODEPAGE = &#x27;4310&#x27;. &quot;UTF-8</span><br><span class="line">      LV_FILETYPE = &#x27;ASC&#x27;.</span><br><span class="line">      LV_SPFLIFLAG = GC_NULL.</span><br><span class="line">      ASSIGN GT_TABLE TO &lt;FLT_TABLE&gt;.</span><br><span class="line">      CHECK SY-SUBRC EQ 0.</span><br><span class="line">    WHEN P_DDATA.</span><br><span class="line">      &quot;校验文件类型</span><br><span class="line">      IF GV_FILETYPE NS &#x27;PDF&#x27;.</span><br><span class="line">        &quot;文件类型不是PDF，无法展示</span><br><span class="line">        MESSAGE TEXT-E02 TYPE GC_S DISPLAY LIKE GC_E.</span><br><span class="line">        LEAVE LIST-PROCESSING.</span><br><span class="line">      ENDIF.</span><br><span class="line">      LV_FILETYPE = &#x27;BIN&#x27;.</span><br><span class="line">      ASSIGN GT_BINTAB TO &lt;FLT_TABLE&gt;.</span><br><span class="line">      CHECK SY-SUBRC EQ 0.</span><br><span class="line">    WHEN P_DTEXT.</span><br><span class="line">      IF GV_FILETYPE NS &#x27;TXT&#x27;.</span><br><span class="line">        &quot;文件类型不是TXT，无法展示</span><br><span class="line">        MESSAGE TEXT-E03 TYPE GC_S DISPLAY LIKE GC_E.</span><br><span class="line">        LEAVE LIST-PROCESSING.</span><br><span class="line">      ENDIF.</span><br><span class="line">      LV_CODEPAGE = &#x27;4310&#x27;. &quot;UTF-8</span><br><span class="line">      LV_FILETYPE = &#x27;DAT&#x27;.</span><br><span class="line">      LV_SPFLIFLAG = GC_X.</span><br><span class="line">      ASSIGN GT_DTEXT TO &lt;FLT_TABLE&gt;.</span><br><span class="line">      CHECK SY-SUBRC EQ 0.</span><br><span class="line">    WHEN OTHERS.</span><br><span class="line">  ENDCASE.</span><br><span class="line"></span><br><span class="line">  LV_FILEPATH = P_FPATH.</span><br><span class="line"></span><br><span class="line">  CALL FUNCTION &#x27;GUI_UPLOAD&#x27;</span><br><span class="line">    EXPORTING</span><br><span class="line">      FILENAME                      = LV_FILEPATH</span><br><span class="line">      FILETYPE                      = LV_FILETYPE</span><br><span class="line">      HAS_FIELD_SEPARATOR           = LV_SPFLIFLAG</span><br><span class="line">*     HEADER_LENGTH                 = 0</span><br><span class="line">*     READ_BY_LINE                  = &#x27;X&#x27;</span><br><span class="line">*     DAT_MODE                      = &#x27; &#x27;</span><br><span class="line">      CODEPAGE                      = LV_CODEPAGE</span><br><span class="line">*     IGNORE_CERR                   = ABAP_TRUE</span><br><span class="line">*     REPLACEMENT                   = &#x27;#&#x27;</span><br><span class="line">*     CHECK_BOM                     = &#x27; &#x27;</span><br><span class="line">*     VIRUS_SCAN_PROFILE            =</span><br><span class="line">      NO_AUTH_CHECK                 = &#x27;X&#x27;</span><br><span class="line">*   IMPORTING</span><br><span class="line">*     FILELENGTH                    =</span><br><span class="line">*     HEADER                        =</span><br><span class="line">    TABLES</span><br><span class="line">      DATA_TAB                      = &lt;FLT_TABLE&gt;</span><br><span class="line">*   CHANGING</span><br><span class="line">*     ISSCANPERFORMED               = &#x27; &#x27;</span><br><span class="line">    EXCEPTIONS</span><br><span class="line">      FILE_OPEN_ERROR               = 1</span><br><span class="line">      FILE_READ_ERROR               = 2</span><br><span class="line">      NO_BATCH                      = 3</span><br><span class="line">      GUI_REFUSE_FILETRANSFER       = 4</span><br><span class="line">      INVALID_TYPE                  = 5</span><br><span class="line">      NO_AUTHORITY                  = 6</span><br><span class="line">      UNKNOWN_ERROR                 = 7</span><br><span class="line">      BAD_DATA_FORMAT               = 8</span><br><span class="line">      HEADER_NOT_ALLOWED            = 9</span><br><span class="line">      SEPARATOR_NOT_ALLOWED         = 10</span><br><span class="line">      HEADER_TOO_LONG               = 11</span><br><span class="line">      UNKNOWN_DP_ERROR              = 12</span><br><span class="line">      ACCESS_DENIED                 = 13</span><br><span class="line">      DP_OUT_OF_MEMORY              = 14</span><br><span class="line">      DISK_FULL                     = 15</span><br><span class="line">      DP_TIMEOUT                    = 16</span><br><span class="line">      OTHERS                        = 17</span><br><span class="line">            .</span><br><span class="line">  IF SY-SUBRC &lt;&gt; 0.</span><br><span class="line">* Implement suitable error handling here</span><br><span class="line">  ENDIF.</span><br><span class="line"></span><br><span class="line">ENDFORM.</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp; Form DATA_OPERATION</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp; text</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp; --&gt;  p1        text</span><br><span class="line">*&amp; &lt;--  p2        text</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">FORM DATA_OPERATION .</span><br><span class="line">  CASE GC_X.</span><br><span class="line">    WHEN P_DISPL OR P_DTEXT.</span><br><span class="line">      PERFORM DISPLAY_DATA.</span><br><span class="line">    WHEN P_DDATA.</span><br><span class="line">      IF SY-BATCH IS INITIAL.</span><br><span class="line">        CALL SCREEN 0100.</span><br><span class="line">      ENDIF.</span><br><span class="line">    WHEN OTHERS.</span><br><span class="line">  ENDCASE.</span><br><span class="line">ENDFORM.</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp; Form DISPLAY_DATA</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp; text</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp; --&gt;  p1        text</span><br><span class="line">*&amp; &lt;--  p2        text</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">FORM DISPLAY_DATA .</span><br><span class="line">*--------------------------Variables-----------------------------------*</span><br><span class="line">  FIELD-SYMBOLS:</span><br><span class="line">    &lt;FLT_TABLE&gt;     TYPE STANDARD TABLE.</span><br><span class="line">*----------------------------Logic-------------------------------------*</span><br><span class="line">  IF GT_TABLE IS INITIAL AND GT_DTEXT IS INITIAL.</span><br><span class="line">    &quot;展示数据为空</span><br><span class="line">    MESSAGE TEXT-E01 TYPE GC_S DISPLAY LIKE GC_E.</span><br><span class="line">    LEAVE LIST-PROCESSING.</span><br><span class="line">  ENDIF.</span><br><span class="line"></span><br><span class="line">  CASE GC_X.</span><br><span class="line">    WHEN P_DISPL.</span><br><span class="line">      ASSIGN GT_TABLE TO &lt;FLT_TABLE&gt;.</span><br><span class="line">    WHEN P_DTEXT.</span><br><span class="line">      ASSIGN GT_DTEXT TO &lt;FLT_TABLE&gt;.</span><br><span class="line">    WHEN OTHERS.</span><br><span class="line">  ENDCASE.</span><br><span class="line">  CHECK SY-SUBRC EQ 0.</span><br><span class="line"></span><br><span class="line">  &quot;数据展示界面设置</span><br><span class="line">  CL_DEMO_OUTPUT=&gt;NEW(</span><br><span class="line">    )-&gt;BEGIN_SECTION( `Upload File Information`</span><br><span class="line">    )-&gt;NEXT_SECTION( `Upload File Path`</span><br><span class="line">    )-&gt;WRITE_DATA( P_FPATH</span><br><span class="line">    )-&gt;NEXT_SECTION( `File Data`</span><br><span class="line">    )-&gt;WRITE_DATA( &lt;FLT_TABLE&gt;</span><br><span class="line">    )-&gt;END_SECTION(</span><br><span class="line">    )-&gt;DISPLAY( ).</span><br><span class="line">ENDFORM.</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp; Form INITIAL_0100</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp; text</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp; --&gt;  p1        text</span><br><span class="line">*&amp; &lt;--  p2        text</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">FORM INITIAL_0100 .</span><br><span class="line">*--------------------------Variables-----------------------------------*</span><br><span class="line">  DATA:</span><br><span class="line">    LV_URL          TYPE C LENGTH 200.</span><br><span class="line">*----------------------------Logic-------------------------------------*</span><br><span class="line">  IF GO_CONTAINER IS INITIAL.</span><br><span class="line">    &quot;创建自适应容器对象</span><br><span class="line">    CREATE OBJECT GO_CONTAINER</span><br><span class="line">      EXPORTING</span><br><span class="line">        REPID     = SY-REPID</span><br><span class="line">        DYNNR     = SY-DYNGR</span><br><span class="line">        SIDE      = CL_GUI_DOCKING_CONTAINER=&gt;DOCK_AT_LEFT</span><br><span class="line">        EXTENSION = 2000.</span><br><span class="line">    &quot;创建用于展示HTML页面的组件对象</span><br><span class="line">    CREATE OBJECT GO_HTML_CONTROL</span><br><span class="line">      EXPORTING</span><br><span class="line">        PARENT    = GO_CONTAINER.</span><br><span class="line">    &quot;将PDF的二进制流传入HTML页面组件对象，得到用于展示PDF的虚拟URL地址</span><br><span class="line">    CALL METHOD GO_HTML_CONTROL-&gt;LOAD_DATA(</span><br><span class="line">     EXPORTING</span><br><span class="line">       TYPE                 = &#x27;application&#x27;</span><br><span class="line">       SUBTYPE              = GV_FILETYPE</span><br><span class="line">     IMPORTING</span><br><span class="line">       ASSIGNED_URL         = LV_URL</span><br><span class="line">     CHANGING</span><br><span class="line">       DATA_TABLE           = GT_BINTAB</span><br><span class="line">     EXCEPTIONS</span><br><span class="line">       DP_INVALID_PARAMETER = 1</span><br><span class="line">       DP_ERROR_GENERAL     = 2</span><br><span class="line">       CNTL_ERROR           = 3</span><br><span class="line">       OTHERS               = 4 ).</span><br><span class="line">    &quot;根据URL地址展示HTML页面</span><br><span class="line">    CALL METHOD GO_HTML_CONTROL-&gt;SHOW_URL( URL = LV_URL</span><br><span class="line">    IN_PLACE = &#x27;X&#x27; ).</span><br><span class="line">  ENDIF.</span><br><span class="line"></span><br><span class="line">ENDFORM.</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp; Form EXIT</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp; text</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp; --&gt;  p1        text</span><br><span class="line">*&amp; &lt;--  p2        text</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">FORM EXIT .</span><br><span class="line">*--------------------------Variables-----------------------------------*</span><br><span class="line">  CONSTANTS:</span><br><span class="line">    LC_BACK         TYPE SY-UCOMM VALUE &#x27;BACK&#x27;,</span><br><span class="line">    LC_EXIT         TYPE SY-UCOMM VALUE &#x27;EXIT&#x27;,</span><br><span class="line">    LC_CANC         TYPE SY-UCOMM VALUE &#x27;CANC&#x27;.</span><br><span class="line">*----------------------------Logic-------------------------------------*</span><br><span class="line">  CLEAR: GV_SAVEOK.</span><br><span class="line">  GV_SAVEOK = GV_OKCODE.</span><br><span class="line">  CLEAR: GV_OKCODE.</span><br><span class="line"></span><br><span class="line">  CASE GV_SAVEOK.</span><br><span class="line">    WHEN LC_BACK OR LC_EXIT OR LC_CANC.</span><br><span class="line">      LEAVE TO SCREEN 0.</span><br><span class="line">    WHEN OTHERS.</span><br><span class="line">  ENDCASE.</span><br><span class="line">ENDFORM.</span><br></pre></td></tr></table></figure>



<h2 id="三、参考资料"><a href="#三、参考资料" class="headerlink" title="三、参考资料"></a>三、参考资料</h2><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/jiangzhengjun/p/4265650.html">[SAP ABAP开发技术总结] 字符编码与解码、Unicode</a></p>
<p><a target="_blank" rel="noopener" href="http://www.itpub.net/thread-1901962-1-1.html">SAP GUI download文件中乱码问题Codepage参数说明</a></p>
<p><a target="_blank" rel="noopener" href="http://www.itpub.net/thread-963359-1-1.html">ABAP大虾帮忙：gui_download乱码</a></p>

  </div>
  
  
    
    <div class='footer'>
       <!-- 参考资料、相关资料等 -->
      
       <!-- 相关文章 -->
      
      <!-- 版权声明组件 -->
      
      <!-- 打赏组件 -->
      
    </div>
  
  
    


  <div class='article-meta' id="bottom">
    <div class='new-meta-box'>
      
        
          <div class="new-meta-item date" itemprop="dateModified" datetime="2024-02-27T15:06:08+08:00">
  <a class='notlink'>
    <i class="fa-solid fa-edit fa-fw" aria-hidden="true"></i>
    <p>更新于：2024年2月27日</p>
  </a>
</div>

        
      
        
          
  
  <div class="new-meta-item meta-tags"><a class="tag" href="/tags/ABAP/" rel="nofollow"><i class="fa-solid fa-hashtag fa-fw" aria-hidden="true"></i><p>ABAP</p></a></div>
  <span hidden itemprop="keywords">ABAP</span>


        
      
        
          
  <div class="new-meta-item share -mob-share-list">
  <div class="-mob-share-list share-body">
    
      
        <a class="-mob-share-qq" title="" rel="external nofollow noopener noreferrer noopener"
          
          target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.yemaojun.top/2023/10/31/ABAP/GUI_UPLOAD%20&%20GUI_DOWNLOAD/GUI-UPLOAD-GUI-DOWNLOAD-%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B%E4%B8%8E%E8%A7%A3%E9%87%8A/&title=GUI_UPLOAD & GUI_DOWNLOAD 使用示例与解释 - 夜猫君&summary=这两天需要开发一个通过接口传输文件的需求。其中需要将文件转换为二进制流的形式传输文件，将上传和接收到的文件转换位二进制流文件就是通过Function GUI_UPLOAD和Function GUI_DOWNLOAD来实现的，但是文件中的字符有中文，英文或其他特殊字符等情况存在，贸然使用上面的Function会出现乱码等问题。所以本片笔记会针对上面的问题进行解释并提出解决方案。"
          
          >
          
            <img src="https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/logo/128/qq.png" class="lazyload" data-srcset="https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/logo/128/qq.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==">
          
        </a>
      
    
      
        <a class="-mob-share-qzone" title="" rel="external nofollow noopener noreferrer noopener"
          
          target="_blank" href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://www.yemaojun.top/2023/10/31/ABAP/GUI_UPLOAD%20&%20GUI_DOWNLOAD/GUI-UPLOAD-GUI-DOWNLOAD-%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B%E4%B8%8E%E8%A7%A3%E9%87%8A/&title=GUI_UPLOAD & GUI_DOWNLOAD 使用示例与解释 - 夜猫君&summary=这两天需要开发一个通过接口传输文件的需求。其中需要将文件转换为二进制流的形式传输文件，将上传和接收到的文件转换位二进制流文件就是通过Function GUI_UPLOAD和Function GUI_DOWNLOAD来实现的，但是文件中的字符有中文，英文或其他特殊字符等情况存在，贸然使用上面的Function会出现乱码等问题。所以本片笔记会针对上面的问题进行解释并提出解决方案。"
          
          >
          
            <img src="https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/logo/128/qzone.png" class="lazyload" data-srcset="https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/logo/128/qzone.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==">
          
        </a>
      
    
      
        <a class="-mob-share-weibo" title="" rel="external nofollow noopener noreferrer noopener"
          
          target="_blank" href="http://service.weibo.com/share/share.php?url=https://www.yemaojun.top/2023/10/31/ABAP/GUI_UPLOAD%20&%20GUI_DOWNLOAD/GUI-UPLOAD-GUI-DOWNLOAD-%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B%E4%B8%8E%E8%A7%A3%E9%87%8A/&title=GUI_UPLOAD & GUI_DOWNLOAD 使用示例与解释 - 夜猫君&summary=这两天需要开发一个通过接口传输文件的需求。其中需要将文件转换为二进制流的形式传输文件，将上传和接收到的文件转换位二进制流文件就是通过Function GUI_UPLOAD和Function GUI_DOWNLOAD来实现的，但是文件中的字符有中文，英文或其他特殊字符等情况存在，贸然使用上面的Function会出现乱码等问题。所以本片笔记会针对上面的问题进行解释并提出解决方案。"
          
          >
          
            <img src="https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/logo/128/weibo.png" class="lazyload" data-srcset="https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/logo/128/weibo.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==">
          
        </a>
      
    
      
    
      
    
  </div>
</div>



        
      
    </div>
    <!-- Custom Files bottomMeta begin -->
    
    <!-- Custom Files bottomMeta end -->
  </div>


  
  

  
    <div class="prev-next">
      
        <a class='prev' href='/2023/11/23/ABAP/SAP%20GUI%E4%B8%AD%E6%98%BE%E7%A4%BAPDF%E6%96%87%E4%BB%B6/SAP-GUI%E4%B8%AD%E6%98%BE%E7%A4%BAPDF%E6%96%87%E4%BB%B6%E6%88%96%E7%BD%91%E9%A1%B5/'>
          <p class='title'><i class="fa-solid fa-chevron-left" aria-hidden="true"></i>SAP-GUI中显示PDF文件或网页</p>
          <p class='content'>这段时间碰到了一个需求。用户上传了很多的文件希望在SAP GUI中预览其中的PDF内容。然后在网上查阅了一些资料，发现了SAP中CL_GUI_HTML_VIEWER类的实例方法 LOAD_DAT...</p>
        </a>
      
      
        <a class='next' href='/2023/09/25/ABAP/PO%20%E6%8E%A5%E5%8F%A3/PO%E6%8E%A5%E5%8F%A3%E9%85%8D%E7%BD%AE%20RFC%E5%BD%A2%E5%BC%8F/PO%E6%8E%A5%E5%8F%A3%E9%85%8D%E7%BD%AE-RFC%E5%BD%A2%E5%BC%8F/'>
          <p class='title'>PO接口配置 RFC形式<i class="fa-solid fa-chevron-right" aria-hidden="true"></i></p>
          <p class='content'>最近项目上涉及到PO接口相关的内容，所以在这里记录一下RFC的PO接口配置方式。后续还有代理类形式这种目前较为常用的配置方式。


PO接口配置 RFC形式

一、编写远程调用RFC使用PO的R...</p>
        </a>
      
    </div>
  
  <!-- Custom Files postEnd begin-->
  
  <!-- Custom Files postEnd end-->
</article>


  


  <article class="post white-box shadow floatable blur" id="comments">
    <span hidden>
      <meta itemprop="discussionUrl" content="/2023/10/31/ABAP/GUI_UPLOAD%20&%20GUI_DOWNLOAD/GUI-UPLOAD-GUI-DOWNLOAD-%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B%E4%B8%8E%E8%A7%A3%E9%87%8A/index.html#comments">
    </span>
    <p ct><i class='fa-solid fa-comments'></i> 评论</p>
    

    <div id="layoutHelper-comments"></div>

  </article>






</div>
<aside id='l_side' itemscope itemtype="http://schema.org/WPSideBar">
  

  
    
    
      
    
  


<div class="widget-sticky pjax">

  
  


  <section class="widget toc-wrapper desktop mobile " id="toc-div" >
    
  <header>
    
      <i class="fa-solid fa-list fa-fw" aria-hidden="true"></i><span class='name'>本文目录</span>
    
  </header>


    <div class='content'>
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81GUI-UPLOAD-amp-GUI-DOWNLOAD"><span class="toc-text">一、GUI_UPLOAD &amp; GUI_DOWNLOAD</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%96%B9%E6%B3%95%E7%AE%80%E4%BB%8B"><span class="toc-text">1.方法简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%8F%82%E6%95%B0%E4%BB%8B%E7%BB%8D"><span class="toc-text">2.参数介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E8%BE%93%E5%85%A5%E5%8F%82%E6%95%B0-FILETYPE"><span class="toc-text">（1）输入参数 FILETYPE</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A0-ASC"><span class="toc-text">① ASC</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A1-BIN"><span class="toc-text">② BIN</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A2-DAT"><span class="toc-text">③ DAT</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E8%BE%93%E5%85%A5%E5%8F%82%E6%95%B0-CODEPAGE"><span class="toc-text">（2）输入参数 CODEPAGE</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89GUI-UPLOAD%E5%8F%82%E6%95%B0%E4%BB%8B%E7%BB%8D"><span class="toc-text">（3）GUI_UPLOAD参数介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A0-%E8%BE%93%E5%85%A5%E5%8F%82%E6%95%B0"><span class="toc-text">① 输入参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A1-%E8%BE%93%E5%87%BA%E5%8F%82%E6%95%B0"><span class="toc-text">② 输出参数</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%884%EF%BC%89GUI-DOWNLOAD-%E5%8F%82%E6%95%B0%E4%BB%8B%E7%BB%8D"><span class="toc-text">（4）GUI_DOWNLOAD 参数介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A0-%E8%BE%93%E5%85%A5%E5%8F%82%E6%95%B0-1"><span class="toc-text">① 输入参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%91%A1-%E8%BE%93%E5%87%BA%E5%8F%82%E6%95%B0-1"><span class="toc-text">② 输出参数</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81GUI-UPLOAD%E4%B8%8A%E4%BC%A0%E7%A4%BA%E4%BE%8B"><span class="toc-text">二、GUI_UPLOAD上传示例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%89%A7%E8%A1%8C%E6%95%88%E6%9E%9C"><span class="toc-text">1.执行效果</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E9%80%89%E6%8B%A9%E5%B1%8F%E5%B9%95"><span class="toc-text">（1）选择屏幕</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89ASC%E7%B1%BB%E5%9E%8B%E5%B1%95%E7%A4%BATXT%E6%96%87%E6%A1%A3"><span class="toc-text">（2）ASC类型展示TXT文档</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89DAT%E7%B1%BB%E5%9E%8B%E5%88%86%E5%88%97%E5%B1%95%E7%A4%BATXT%E6%96%87%E6%A1%A3"><span class="toc-text">（3）DAT类型分列展示TXT文档</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%884%EF%BC%89BIN%E7%B1%BB%E5%9E%8B%E5%B1%95%E7%A4%BAPDF%E6%96%87%E6%A1%A3"><span class="toc-text">（4）BIN类型展示PDF文档</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%A4%BA%E4%BE%8B%E6%BA%90%E4%BB%A3%E7%A0%81"><span class="toc-text">2.示例源代码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89Include-TOP-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="toc-text">（1）Include TOP 全局变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89Include-SCR-%E9%80%89%E6%8B%A9%E5%B1%8F%E5%B9%95%E6%BA%90%E7%A0%81"><span class="toc-text">（2）Include SCR 选择屏幕源码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89Include-PBO-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%8F%E5%B9%95%E5%88%9D%E5%A7%8B%E9%80%BB%E8%BE%91"><span class="toc-text">（3）Include PBO 自定义屏幕初始逻辑</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%884%EF%BC%89Include-PAI-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%8F%E5%B9%95%E5%8A%9F%E8%83%BD%E9%80%BB%E8%BE%91"><span class="toc-text">（4）Include PAI 自定义屏幕功能逻辑</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%885%EF%BC%89Include-F01-%E7%A8%8B%E5%BA%8F%E9%80%BB%E8%BE%91"><span class="toc-text">（5）Include F01 程序逻辑</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-text">三、参考资料</span></a></li></ol>
    </div>
  </section>

  

</div>


<!-- 没有 pjax 占位会报错 万恶的 pjax -->

  <div class="pjax">
    <!-- pjax占位 -->
  </div>

  <div class="pjax">
    <!-- pjax占位 -->
  </div>

  <div class="pjax">
    <!-- pjax占位 -->
  </div>

  <div class="pjax">
    <!-- pjax占位 -->
  </div>

  <div class="pjax">
    <!-- pjax占位 -->
  </div>

  <div class="pjax">
    <!-- pjax占位 -->
  </div>

  <div class="pjax">
    <!-- pjax占位 -->
  </div>

  <div class="pjax">
    <!-- pjax占位 -->
  </div>

  <div class="pjax">
    <!-- pjax占位 -->
  </div>

  <!-- Custom Files side begin -->
  
  <!-- Custom Files side end -->
</aside>



          <!--此文件用来存放一些不方便取值的变量-->
<!--思路大概是将值藏到重加载的区域内-->

<pjax>
<script>
  window.pdata={}
  pdata.ispage=true;
  pdata.commentPath="";
  pdata.commentPlaceholder="";
  pdata.commentConfig={};
  //  see: /layout/_partial/scripts/_ctrl/coverCtrl.ejs
  
    // header
    var l_header=document.getElementById("l_header");
    
    l_header.classList.add("show");
    
    
      // cover
      var cover_wrapper=document.querySelector('#l_cover .cover-wrapper');
      var scroll_down=document.getElementById('scroll-down');
      cover_wrapper.id="none";
      cover_wrapper.style.display="none";
      scroll_down.style.display="none";
    
  
</script>
</pjax>
        </div>
        
  
  <footer class="footer clearfix"  itemscope itemtype="http://schema.org/WPFooter">
    <br><br>
    
      
        <div class="aplayer-container">
          


        </div>
      
    
      
        <br>
        <div class="social-wrapper" itemprop="about" itemscope itemtype="http://schema.org/Thing">
          
            
          
            
          
            
          
        </div>
      
    
      
        <div><p>博客内容遵循 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0) 协议</a></p>
</div>
      
    
      
        
          <div><p><span id="lc-sv">本站总访问量为 <span id='number'><i class="fa-solid fa-loader fa-spin fa-fw" aria-hidden="true"></i></span> 次</span> <span id="lc-uv">访客数为 <span id='number'><i class="fa-solid fa-loader fa-spin fa-fw" aria-hidden="true"></i></span> 人</span></p>
</div>
        
      
    
      
        本站使用
        <a href="https://github.com/volantis-x/hexo-theme-volantis/#*" target="_blank" class="codename">Volantis</a>
        作为主题，总访问量为
          <span id="busuanzi_value_site_pv"><i class="fa-solid fa-loader fa-spin fa-fw" aria-hidden="true"></i></span>
          次
        
      
    
      
        <div class='copyright'>
        <p><a href="/">Copyright © since 2017 XXX</a></p>

        </div>
      
    
    <!-- Custom Files footer begin-->
    
    <!-- Custom Files footer end-->
  </footer>


        <a id="s-top" class="fa-solid fa-arrow-up fa-fw" href="/" onclick="return false;" title="top"></a>
      </div>
    </div>
    <div>
      <script>
  /******************** volantis.dom ********************************/
  // 页面选择器 将dom对象缓存起来 see: /source/js/app.js etc.
  volantis.dom.bodyAnchor = volantis.dom.$(document.getElementById("safearea")); // 页面主体
  volantis.dom.topBtn = volantis.dom.$(document.getElementById('s-top')); // 向上
  volantis.dom.wrapper = volantis.dom.$(document.getElementById('wrapper')); // 整个导航栏
  volantis.dom.coverAnchor = volantis.dom.$(document.querySelector('#l_cover .cover-wrapper')); // 1个
  volantis.dom.switcher = volantis.dom.$(document.querySelector('#l_header .switcher .s-search')); // 搜索按钮   移动端 1个
  volantis.dom.header = volantis.dom.$(document.getElementById('l_header')); // 移动端导航栏
  volantis.dom.search = volantis.dom.$(document.querySelector('#l_header .m_search')); // 搜索框 桌面端 移动端 1个
  volantis.dom.mPhoneList = volantis.dom.$(document.querySelectorAll('#l_header .m-phone .list-v')); //  手机端 子菜单 多个
</script>

<script>
  
  volantis.css("https://unpkg.com/volantis-static@0.0.1654736714924/libs/@fortawesome/fontawesome-free/css/all.min.css");
  
  
  
</script>

<!-- required -->


<!-- internal -->

<script src="/js/app.js"></script>





  













<div id="rightmenu-wrapper">
  <ul class="list-v rightmenu" id="rightmenu-content">
    
  <li class='navigation menuNavigation-Content'>


    <a class="nav icon-only fix-cursor-default" onclick="history.back()"><i class="fa-solid fa-arrow-left fa-fw"></i></a>



    <a class="nav icon-only fix-cursor-default" onclick="history.forward()"><i class="fa-solid fa-arrow-right fa-fw"></i></a>



    <a class="nav icon-only fix-cursor-default" onclick="window.location.reload()"><i class="fa-solid fa-redo fa-fw"></i></a>



    <a class="nav icon-only fix-cursor-default" onclick="VolantisApp.scrolltoElement(volantis.dom.bodyAnchor)"><i class="fa-solid fa-arrow-up fa-fw"></i></a>


  </li>


    <hr class="menuLoad-Content" >



  <li class="menuLoad-Content">
    <span class="vlts-menu fix-cursor-default event" id="copyPaste" data-event="copyPaste" data-group="inputBox">
      <i class="fa-solid fa-paste fa-fw"></i>
      粘贴文本
    </span>
  </li>



  <li class="menuLoad-Content">
    <span class="vlts-menu fix-cursor-default event" id="copyAll" data-event="copyAll" data-group="inputBox">
      <i class="fa-solid fa-object-ungroup fa-fw"></i>
      全选文本
    </span>
  </li>



  <li class="menuLoad-Content">
    <span class="vlts-menu fix-cursor-default event" id="copyCut" data-event="copyCut" data-group="inputBox">
      <i class="fa-solid fa-cut fa-fw"></i>
      剪切文本
    </span>
  </li>



  <li class="menuLoad-Content">
    <span class="vlts-menu fix-cursor-default event" id="copyText" data-event="copyText" data-group="seletctText">
      <i class="fa-solid fa-copy fa-fw"></i>
      复制文本
    </span>
  </li>



  <li class="menuLoad-Content">
    <span class="vlts-menu fix-cursor-default event" id="searchWord" data-event="OpenSearch(__text__)" data-group="seletctText">
      <i class="fa-solid fa-search fa-fw"></i>
      站内搜索
    </span>
  </li>



  <li class="menuLoad-Content">
    <span class="vlts-menu fix-cursor-default event" id="bingSearch" data-event="window.open(`https://cn.bing.com/search?q=${__text__}`)" data-group="seletctText">
      <i class="fa-solid fa-search fa-fw"></i>
      必应搜索
    </span>
  </li>



  <li class="menuLoad-Content">
    <span class="vlts-menu fix-cursor-default event" id="openTab" data-event="window.open(__link__)" data-group="elementCheck">
      <i class="fa-solid fa-external-link-square-alt fa-fw"></i>
      新标签页打开
    </span>
  </li>



  <li class="menuLoad-Content">
    <span class="vlts-menu fix-cursor-default event" id="copyLink" data-event="copyLink" data-group="elementCheck">
      <i class="fa-solid fa-link fa-fw"></i>
      复制链接地址
    </span>
  </li>



  <li class="menuLoad-Content">
    <span class="vlts-menu fix-cursor-default event" id="copyImg" data-event="copyImg" data-group="elementImage">
      <i class="fa-solid fa-image fa-fw"></i>
      复制图片
    </span>
  </li>



  <li class="menuLoad-Content">
    <span class="vlts-menu fix-cursor-default event" id="googleImg" data-event="window.open(`https://www.google.com.hk/searchbyimage?image_url=${__link__}`)" data-group="elementImage">
      <i class="fa-solid fa-images fa-fw"></i>
      谷歌识图
    </span>
  </li>



  <li class="menuLoad-Content">
    <a class="vlts-menu fix-cursor-default" id="help" target="_blank" rel="noopener" href="https://volantis.js.org/faqs/" data-group="link">
      <i class="fa-solid fa-question fa-fw"></i>
      常见问题
    </a>
  </li>



  <li class="menuLoad-Content">
    <a class="vlts-menu fix-cursor-default" id="examples" target="_blank" rel="noopener" href="https://volantis.js.org/examples/" data-group="link">
      <i class="fa-solid fa-rss fa-fw"></i>
      示例博客
    </a>
  </li>



  <li class="menuLoad-Content">
    <a class="vlts-menu fix-cursor-default" id="contributors" target="_blank" rel="noopener" href="https://volantis.js.org/contributors/" data-group="link">
      <i class="fa-solid fa-fan fa-fw"></i>
      加入社区
    </a>
  </li>



    <hr class="menuLoad-Content" >



  <li class="menuLoad-Content">
    <a class="vlts-menu fix-cursor-default" id="source_docs" target="_blank" rel="noopener" href="https://github.com/volantis-x/volantis-docs/" data-group="link">
      <i class="fa-solid fa-code-branch fa-fw"></i>
      本站源码
    </a>
  </li>



  <li class="menuLoad-Content">
    <a class="vlts-menu fix-cursor-default" id="source_theme" target="_blank" rel="noopener" href="https://github.com/volantis-x/hexo-theme-volantis/" data-group="link">
      <i class="fa-solid fa-code-branch fa-fw"></i>
      主题源码
    </a>
  </li>



    <hr class="menuLoad-Content" >



    <hr class="menuLoad-Content" >



  <li class="menuLoad-Content">
    <span class="vlts-menu fix-cursor-default event" id="printMode" data-event="printMode" data-group="articlePage">
      <i class="fa-solid fa-print fa-fw"></i>
      打印页面
    </span>
  </li>



  <li class="menuLoad-Content">
    <span class="vlts-menu fix-cursor-default event" id="readMode" data-event="readMode" data-group="articlePage">
      <i class="fa-solid fa-book-open fa-fw"></i>
      阅读模式
    </span>
  </li>


<div id="menuMusic">
  <li class='music name menuOption-Content'>
    <p class='nav music-title fix-cursor-default'></p>
  </li>
  <li class='music ctrl'>
    <a class='nav icon-only backward fix-cursor-default' href="/" onclick="return false;" title="backward">
      <i class='fa-solid fa-step-backward fa-fw'></i>
    </a>
    <a class='nav icon-only toggle fix-cursor-default' href="/" onclick="return false;" title="toggle">
      <i class='fa-solid fa-play fa-fw'></i>
    </a>
    <a class='nav icon-only forward fix-cursor-default' href="/" onclick="return false;" title="forward">
      <i class='fa-solid fa-step-forward fa-fw'></i>
    </a>
  </li>
  <li class='music volume'>
    <div class='nav volume'>
      <div class="aplayer-volume-bar-wrap">
        <div class="aplayer-volume-bar fix-cursor-pointer">
          <div class="aplayer-volume"></div>
          <i class='left fa-solid fa-volume-off fa-fw'></i>
          <i class='right fa-solid fa-volume-up fa-fw'></i>
        </div>
      </div>
    </div>
  </li>
</div>

  </ul>
</div>
<script src="/js/plugins/rightMenus.js"></script>
<script>
  const RightMenusFunction = {};
  












  //RightMenusFunction['copyPaste'] = (fun) => {fun()}





  //RightMenusFunction['copyAll'] = (fun) => {fun()}





  //RightMenusFunction['copyCut'] = (fun) => {fun()}





  //RightMenusFunction['copyText'] = (fun) => {fun()}





  RightMenusFunction['searchWord'] = (__text__) => {OpenSearch(__text__)}





  RightMenusFunction['bingSearch'] = (__text__) => {window.open(`https://cn.bing.com/search?q=${__text__}`)}





  RightMenusFunction['openTab'] = (__link__) => {window.open(__link__)}





  //RightMenusFunction['copyLink'] = (fun) => {fun()}





  //RightMenusFunction['copyImg'] = (fun) => {fun()}





  RightMenusFunction['googleImg'] = (__link__) => {window.open(`https://www.google.com.hk/searchbyimage?image_url=${__link__}`)}





















  //RightMenusFunction['printMode'] = (fun) => {fun()}





  //RightMenusFunction['readMode'] = (fun) => {fun()}





</script>



<!-- rightmenu要在darkmode之前（ToggleButton） darkmode要在comments之前（volantis.dark.push）-->



<script>
  function loadIssuesJS() {
    
      const sites_api = document.getElementById('sites-api');
      if (sites_api != undefined && typeof SitesJS === 'undefined') {
        volantis.js("/js/plugins/tags/sites.js")
      }
    
    
      const friends_api = document.getElementById('friends-api');
      if (friends_api != undefined && typeof FriendsJS === 'undefined') {
        volantis.js("/js/plugins/tags/friends.js")
      }
    
    
      const contributors_api = document.getElementById('contributors-api');
      if (contributors_api != undefined && typeof ContributorsJS === 'undefined') {
        volantis.js("/js/plugins/tags/contributors.js")
      }
    
  };
  loadIssuesJS()
  volantis.pjax.push(()=>{
    loadIssuesJS();
  })

</script>




  <script defer src="https://unpkg.com/volantis-static@0.0.1654736714924/libs/vanilla-lazyload/dist/lazyload.min.js"></script>
<script>
  // https://www.npmjs.com/package/vanilla-lazyload
  // Set the options globally
  // to make LazyLoad self-initialize
  window.lazyLoadOptions = {
    elements_selector: ".lazyload",
    threshold: 0
  };
  // Listen to the initialization event
  // and get the instance of LazyLoad
  window.addEventListener(
    "LazyLoad::Initialized",
    function (event) {
      window.lazyLoadInstance = event.detail.instance;
    },
    false
  );
  document.addEventListener('DOMContentLoaded', function () {
    lazyLoadInstance.update();
  });
  document.addEventListener('pjax:complete', function () {
    lazyLoadInstance.update();
  });
</script>




  

<script>
  window.FPConfig = {
	delay: 0,
	ignoreKeywords: ["#"],
	maxRPS: 6,
	hoverDelay: 0
  };
</script>
<script defer src="https://unpkg.com/volantis-static@0.0.1654736714924/libs/flying-pages/flying-pages.min.js"></script>









      <script>
  volantis.layoutHelper("comments",`<div id="twikoo_container"><i class="fa-solid fa-cog fa-spin fa-fw fa-2x"></i></div>`)
  function load_twikoo() {
    if(!document.querySelectorAll("#twikoo_container")[0])return;
    volantis.js("https://unpkg.com/twikoo@1.6.16", pjax_twikoo)
  }
  function pjax_twikoo() {
    if(!document.querySelectorAll("#twikoo_container")[0])return;
    let path = pdata.commentPath;
    let placeholder = pdata.commentPlaceholder || "" || "";
    if (path.length == 0) {
      let defaultPath = '';
      path = defaultPath || decodeURI(window.location.pathname);
    }
    twikoo.init(Object.assign(Object.assign({"js":"https://unpkg.com/twikoo@1.6.16","path":null,"envId":"https://twikoo-api-sable-delta.vercel.app/","placeholder":null,"visitor":true}, {
      el: '#twikoo_container',
      path: path,
      placeholder: placeholder,
      onCommentLoaded: function() {
        if(typeof VolantisFancyBox === "undefined") {
          const checkFancyBox = setInterval(() => {
            if(typeof VolantisFancyBox === "undefined") return;
            clearInterval(checkFancyBox);
            VolantisFancyBox.groupBind('.tk-content img:not([class*="emo"])', 'Comments');
          })
        } else {
          VolantisFancyBox.groupBind('.tk-content img:not([class*="emo"])', 'Comments');
        }
      }
    }),pdata.commentConfig))
  }
  load_twikoo();
  volantis.pjax.push(()=>{
    if (typeof twikoo == "undefined") {
      load_twikoo();
    } else {
      pjax_twikoo();
    }
  },'twikoo');
</script>

    




  <script defer src="https://npm.elemecdn.com/penndu@1.0.0/bsz.js" data-pjax></script>


<!-- optional -->

  <script>
  const SearchServiceDataPathRoot = ("/" || "/").endsWith("/") ?
    "/" || "/" :
    "//" || "/";
  const SearchServiceDataPath = SearchServiceDataPathRoot + "content.json";

  function loadSearchScript() {
    // see: layout/_partial/scripts/_ctrl/cdnCtrl.ejs
    return volantis.js("/js/search/hexo.js");
  }

  function loadSearchService() {
    loadSearchScript();
    document.querySelectorAll(".input.u-search-input").forEach((e) => {
      e.removeEventListener("focus", loadSearchService, false);
    });

    document.querySelectorAll(".u-search-form").forEach((e) => {
      e.addEventListener("submit", (event) => {
        event.preventDefault();
      }, false);
    });
  }

  // 打开并搜索 字符串 s
  function OpenSearch(s) {
    if (typeof SearchService === 'undefined')
      loadSearchScript().then(() => {
        SearchService.setQueryText(s);
        SearchService.search();
      });
    else {
      SearchService.setQueryText(s);
      SearchService.search();
    }
  }

  // 访问含有 ?s=xxx  的链接时打开搜索 // 与搜索引擎 structured data 相关: /scripts/helpers/structured-data/lib/config.js
  if (window.location.search && /^\?s=/g.test(window.location.search)) {
    let queryText = decodeURI(window.location.search)
      .replace(/\ /g, "-")
      .replace(/^\?s=/g, "");
    OpenSearch(queryText);
  }

  // 搜索输入框获取焦点时加载搜索
  document.querySelectorAll(".input.u-search-input").forEach((e) => {
    e.addEventListener("focus", loadSearchService, false);
  });
</script>







  <script>



  function pjax_highlightjs_copyCode(){
    if (!(document.querySelector(".highlight .code pre") ||
      document.querySelector(".article pre code"))) {
      return;
    }
    VolantisApp.utilCopyCode(".highlight .code pre, .article pre code")
  }
  volantis.requestAnimationFrame(pjax_highlightjs_copyCode)
  volantis.pjax.push(pjax_highlightjs_copyCode)

</script>










  <script>
  let imgs = ["/imag/Background Image/wallhaven-yxgldx_1920x1080.png","/imag/Background Image/wallhaven-9d8wrk_1920x1080.png","/imag/Background Image/wallhaven-o52jv7_3072x2271.png","/imag/Background Image/wallhaven-zxzr9v_1920x1080.png","/imag/Background Image/wallhaven-rrj36q_1920x1080.png","/imag/Background Image/wallhaven-gp9ll7_1920x1080.png","/imag/Background Image/wallhaven-m3wke1_1920x1080.png","/imag/Background Image/wallhaven-rrozyw_1920x1080.png","/imag/Background Image/wallhaven-1pxowv_1650x1308.png","/imag/Background Image/wallhaven-rrow61_1920x1080.png","/imag/Background Image/wallhaven-l3gq1q_3840x2160.png","/imag/Background Image/wallhaven-l82jzq_3000x1833.png","/imag/Background Image/wallhaven-zyxvqy_1920x1080.png","/imag/Background Image/wallhaven-9d28vd_4096x1954.png","/imag/Background Image/wallhaven-l8k6vl_1920x1080.png","/imag/Background Image/wallhaven-welxvp_3741x2203.png","/imag/Background Image/wallhaven-m322vm_1920x1080.png","/imag/Background Image/wallhaven-p9jxl3_1920x1080.png","/imag/Background Image/wallhaven-o5lwdp_1920x1080.png","/imag/Background Image/wallhaven-y8267k_2400x1600.png","/imag/Background Image/wallhaven-gp2w6e_2560x1600.png"];
  let index = 0;
  let IntervalParallax = null;

  function parallax(){
    let ParallaxWindow = document.querySelector("#parallax-window");
    
      ParallaxWindow = document.querySelector("html");
    
    Parallax.window = ParallaxWindow;
    Parallax.options.fade = 1500;
    Parallax.cache = 1;
    next_parallax();
    Parallax.init();
    if (imgs.length>1) {
      IntervalParallax = setInterval(function () {
        next_parallax();
      }, '30000');
    }
  }

  function next_parallax() {
    if (typeof Parallax == "undefined") {
      return
    }
    
    if (imgs.length>=1) {
      Parallax.options.src = imgs[index % imgs.length];
      Parallax.start();
      index++;
      if (Parallax.cache) {
        fetch(imgs[index % imgs.length] +"?t=" + new Date().getTime());
        if (index == imgs.length) {
          Parallax.cache = 0;
        }
      }
    }
  }
  var runningOnBrowser = typeof window !== "undefined";
  var isBot = runningOnBrowser && !("onscroll" in window) || typeof navigator !== "undefined" && /(gle|ing|ro|msn)bot|crawl|spider|yand|duckgo/i.test(navigator.userAgent);
  if (!isBot) {
    volantis.js('/js/plugins/parallax.js').then(()=>{
      parallax()
    })
    volantis.pjax.send(()=>{
      clearInterval(IntervalParallax)
    },"clearIntervalParallax");
    volantis.pjax.push(parallax);
  }
</script>




  <script>
  function load_swiper() {
    if (!document.querySelectorAll(".swiper-container")[0]) return;
    volantis.css("https://unpkg.com/volantis-static@0.0.1654736714924/libs/swiper/swiper-bundle.min.css");
    volantis.js("https://unpkg.com/volantis-static@0.0.1654736714924/libs/swiper/swiper-bundle.min.js").then(() => {
      pjax_swiper();
    });
  }

  load_swiper();

  function pjax_swiper() {
    volantis.swiper = new Swiper('.swiper-container', {
      slidesPerView: 'auto',
      spaceBetween: 8,
      centeredSlides: true,
      loop: true,
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
    });
  }

  volantis.pjax.push(() => {
    if (!document.querySelectorAll(".swiper-container")[0]) return;
    if (typeof volantis.swiper === "undefined") {
      load_swiper();
    } else {
      pjax_swiper();
    }
  });
</script>


<!-- pjax 标签必须存在于所有页面 否则 pjax error -->
<pjax>

</pjax>

<script>
  function listennSidebarTOC() {
    const navItems = document.querySelectorAll(".toc li");
    if (!navItems.length) return;
    let targets = []
    const sections = [...navItems].map((element) => {
      const link = element.querySelector(".toc-link");
      const target = document.getElementById(
        decodeURI(link.getAttribute("href")).replace("#", "")
      );
      targets.push(target)
      // 解除 a 标签 href 的 锚点定位, a 标签 href 的 锚点定位 会随机启用?? 产生错位???
      link.setAttribute("onclick","return false;")
      link.setAttribute("toc-action","toc-"+decodeURI(link.getAttribute("href")).replace("#", ""))
      link.setAttribute("href","/")
      // 配置 点击 触发新的锚点定位
      link.addEventListener("click", (event) => {
        event.preventDefault();
        // 这里的 addTop 是通过错位使得 toc 自动展开.
        volantis.scroll.to(target,{addTop: 5, observer:true})
        // Anchor id
        history.pushState(null, document.title, "#" + target.id);
      });
      return target;
    });

    function activateNavByIndex(target) {
      if (target.classList.contains("active-current")) return;

      document.querySelectorAll(".toc .active").forEach((element) => {
        element.classList.remove("active", "active-current");
      });
      target.classList.add("active", "active-current");
      let parent = target.parentNode;
      while (!parent.matches(".toc")) {
        if (parent.matches("li")) parent.classList.add("active");
        parent = parent.parentNode;
      }
    }

    // 方案一：
    volantis.activateNavIndex=0
    activateNavByIndex(navItems[volantis.activateNavIndex])
    volantis.scroll.push(()=>{
      if (targets[0].getBoundingClientRect().top >= 0) {
        volantis.activateNavIndex = 0
      }else if (targets[targets.length-1].getBoundingClientRect().top < 0) {
        volantis.activateNavIndex = targets.length-1
      } else {
        for (let index = 0; index < targets.length; index++) {
          const target0 = targets[index];
          const target1 = targets[(index+1)%targets.length];
          if (target0.getBoundingClientRect().top < 0&&target1.getBoundingClientRect().top >= 0) {
            volantis.activateNavIndex=index
            break;
          }
        }
      }
      activateNavByIndex(navItems[volantis.activateNavIndex])
    })

    // 方案二：
    // IntersectionObserver 不是完美精确到像素级别 也不是低延时性的
    // function findIndex(entries) {
    //   let index = 0;
    //   let entry = entries[index];
    //   if (entry.boundingClientRect.top > 0) {
    //     index = sections.indexOf(entry.target);
    //     return index === 0 ? 0 : index - 1;
    //   }
    //   for (; index < entries.length; index++) {
    //     if (entries[index].boundingClientRect.top <= 0) {
    //       entry = entries[index];
    //     } else {
    //       return sections.indexOf(entry.target);
    //     }
    //   }
    //   return sections.indexOf(entry.target);
    // }
    // function createIntersectionObserver(marginTop) {
    //   marginTop = Math.floor(marginTop + 10000);
    //   let intersectionObserver = new IntersectionObserver(
    //     (entries, observe) => {
    //       let scrollHeight = document.documentElement.scrollHeight;
    //       if (scrollHeight > marginTop) {
    //         observe.disconnect();
    //         createIntersectionObserver(scrollHeight);
    //         return;
    //       }
    //       let index = findIndex(entries);
    //       activateNavByIndex(navItems[index]);
    //     }, {
    //       rootMargin: marginTop + "px 0px -100% 0px",
    //       threshold: 0,
    //     }
    //   );
    //   sections.forEach((element) => {
    //     element && intersectionObserver.observe(element);
    //   });
    // }
    // createIntersectionObserver(document.documentElement.scrollHeight);
  }

  document.addEventListener("DOMContentLoaded", ()=>{
    volantis.requestAnimationFrame(listennSidebarTOC)
  });
  document.addEventListener("pjax:success", ()=>{
    volantis.requestAnimationFrame(listennSidebarTOC)
  });
</script>



<script>
  document.onreadystatechange = function () {
    if (document.readyState == 'complete') {
      // 页面加载完毕 样式加载失败，或是当前网速慢，或是开启了省流模式
      const { saveData, effectiveType } = navigator.connection || navigator.mozConnection || navigator.webkitConnection || {}
      if (getComputedStyle(document.querySelector("#safearea"), null)["display"] == "none" || saveData || /2g/.test(effectiveType)) {
        document.querySelectorAll(".reveal").forEach(function (e) {
          e.style["opacity"] = "1";
        });
        document.querySelector("#safearea").style["display"] = "block";
      }
    }
  }
</script>


  <script type="application/ld+json">[{"@context":"http://schema.org","@type":"Organization","name":"夜猫君","url":"https://www.yemaojun.top/","logo":{"@type":"ImageObject","url":"https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/blog/favicon/android-chrome-192x192.png","width":192,"height":192}},{"@context":"http://schema.org","@type":"Person","name":"夜猫君","image":{"@type":"ImageObject","url":"https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/blog/favicon/android-chrome-192x192.png"},"url":"https://www.yemaojun.top/","sameAs":["https://github.com/volantis-x"],"description":"夜猫君"},{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://www.yemaojun.top/","name":"夜猫君"}},{"@type":"ListItem","position":2,"item":{"@id":"https://www.yemaojun.top/categories/ABAP/","name":"ABAP"}},{"@type":"ListItem","position":2,"item":{"@id":"https://www.yemaojun.top/categories/杂项收录/","name":"杂项收录"}},{"@type":"ListItem","position":3,"item":{"@id":"https://www.yemaojun.top/2023/10/31/ABAP/GUI_UPLOAD & GUI_DOWNLOAD/GUI-UPLOAD-GUI-DOWNLOAD-使用示例与解释/","name":"GUI_UPLOAD & GUI_DOWNLOAD 使用示例与解释"}}]},{"@context":"http://schema.org","@type":"WebSite","name":"夜猫君","url":"https://www.yemaojun.top/","keywords":null,"description":"夜猫君","author":{"@type":"Person","name":"夜猫君","image":{"@type":"ImageObject","url":"https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/blog/favicon/android-chrome-192x192.png"},"url":"https://www.yemaojun.top/","description":"夜猫君"},"publisher":{"@type":"Organization","name":"夜猫君","url":"https://www.yemaojun.top/","logo":{"@type":"ImageObject","url":"https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/blog/favicon/android-chrome-192x192.png","width":192,"height":192}},"potentialAction":{"@type":"SearchAction","name":"Site Search","target":{"@type":"EntryPoint","urlTemplate":"https://www.yemaojun.top?s={search_term_string}"},"query-input":"required name=search_term_string"}},{"@context":"http://schema.org","@type":"BlogPosting","headline":"GUI_UPLOAD & GUI_DOWNLOAD 使用示例与解释","description":"这两天需要开发一个通过接口传输文件的需求。其中需要将文件转换为二进制流的形式传输文件，将上传和接收到的文件转换位二进制流文件就是通过Function GUI_UPLOAD和Function GUI_DOWNLOAD来实现的，但是文件中的字符有中文，英文或其他特殊字符等情况存在，贸然使用上面的Function会出现乱码等问题。所以本片笔记会针对上面的问题进行解释并提出解决方案。","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.yemaojun.top/2023/10/31/ABAP/GUI_UPLOAD%20&%20GUI_DOWNLOAD/GUI-UPLOAD-GUI-DOWNLOAD-%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B%E4%B8%8E%E8%A7%A3%E9%87%8A/"},"author":{"@type":"Person","name":"夜猫君","image":{"@type":"ImageObject","url":"https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/blog/favicon/android-chrome-192x192.png"},"url":"https://www.yemaojun.top/"},"publisher":{"@type":"Organization","name":"夜猫君","logo":{"@type":"ImageObject","url":"https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/blog/favicon/android-chrome-192x192.png","width":192,"height":192}},"url":"https://www.yemaojun.top/2023/10/31/ABAP/GUI_UPLOAD%20&%20GUI_DOWNLOAD/GUI-UPLOAD-GUI-DOWNLOAD-%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B%E4%B8%8E%E8%A7%A3%E9%87%8A/","wordCount":189,"datePublished":"2023-10-31T03:31:45.000Z","dateModified":"2024-02-27T07:06:08.843Z","articleSection":"ABAP","keywords":"ABAP","image":{"@type":"ImageObject","url":"https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/blog/favicon/android-chrome-192x192.png","width":192,"height":192}}]</script>



      
        <!--
  pjax重载区域接口：
  1.  <pjax></pjax> 标签 pjax 标签必须存在于所有页面 否则 pjax error
  2.  script[data-pjax]
  3.  .pjax-reload script
  4.  .pjax
-->



<script src="https://unpkg.com/volantis-static@0.0.1654736714924/libs/pjax/pjax.min.js"></script>


<script>
    var pjax;
    document.addEventListener('DOMContentLoaded', function () {
      pjax = new Pjax({
        elements: 'a[href]:not([href^="#"]):not([href="javascript:void(0)"]):not([pjax-fancybox]):not([onclick="return false;"]):not([onclick="return!1"]):not([target="_blank"]):not([target="view_window"]):not([href$=".xml"])',
        selectors: [
          "head title",
          "head meta[name=keywords]",
          "head meta[name=description]",
          
          "#l_main",
          "#pjax-header-nav-list",
          ".pjax",
          "pjax", // <pjax></pjax> 标签
          "script[data-pjax], .pjax-reload script" // script标签添加data-pjax 或 script标签外层添加.pjax-reload 的script代码段重载
        ],
        cacheBust: false,   // url 地址追加时间戳，用以避免浏览器缓存
        timeout: 5000,
        
      });
    });

    document.addEventListener('pjax:send', function (e) {
      //window.stop(); // 相当于点击了浏览器的停止按钮

      try {
        var currentUrl = window.location.pathname;
        var targetUrl = e.triggerElement.href;
        var banUrl = [""];
        if (banUrl[0] != "") {
          banUrl.forEach(item => {
            if(currentUrl.indexOf(item) != -1 || targetUrl.indexOf(item) != -1) {
              window.location.href = targetUrl;
            }
          });
        }
      } catch (error) {}

      // 使用 volantis.pjax.send 方法传入pjax:send回调函数 参见layout/_partial/scripts/global.ejs
      volantis.pjax.method.send.start();
    });

    document.addEventListener('pjax:complete', function () {
      // 使用 volantis.pjax.push 方法传入重载函数 参见layout/_partial/scripts/global.ejs
      volantis.pjax.method.complete.start();
    });

    document.addEventListener('pjax:error', function (e) {
      if(volantis.debug) {
        console.error(e);
        console.log('pjax error: \n' + JSON.stringify(e));
      }else{
        // 使用 volantis.pjax.error 方法传入pjax:error回调函数 参见layout/_partial/scripts/global.ejs
        volantis.pjax.method.error.start();
        window.location.href = e.triggerElement.href;
      }
    });
</script>

      
    </div>
    <!-- import body_end begin-->
    <!-- import body_end end-->
    <!-- Custom Files bodyEnd begin-->
    <!-- 动态标题 -->
<script src="./Custom/Custom JS/Dynamic-Title.js"></script>
    <!-- Custom Files bodyEnd end-->
    <!-- front-matter body_end begin -->
    <!-- front-matter body_end end -->
  <script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"live2d-widget-model-koharu"},"display":{"position":"left","width":150,"height":300,"hOffset":60,"vOffset":-50},"mobile":{"show":false}});</script></body>
</html>
